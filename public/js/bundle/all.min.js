require=function e(t,n,r){function a(i,u){if(!n[i]){if(!t[i]){var s="function"==typeof require&&require;if(!u&&s)return s(i,!0);if(o)return o(i,!0);var c=new Error("Cannot find module '"+i+"'");throw c.code="MODULE_NOT_FOUND",c}var f=n[i]={exports:{}};t[i][0].call(f.exports,function(e){var n=t[i][1][e];return a(n?n:e)},f,f.exports,e,t,n,r)}return n[i].exports}for(var o="function"==typeof require&&require,i=0;i<r.length;i++)a(r[i]);return a}({1:[function(e,t,n){var r=e("knockout");r.mapping=e("knockout.mapping");var a=e("./router"),o=e("./xhr-json");!function(){var e=!1,t=0;document.addEventListener("scroll",function(n){var r=window.pageYOffset,a=document.body.scrollHeight,o=window.innerHeight,u=r>t;t=r;var s=r>a-o-100;u&&s&&!e&&(console.log("infinite scroll toggled load"),e=!0,i.more(),setTimeout(function(){e=!1},3e3))},!1)}();var i={start:0,batch:15,type:r.observable("article"),array:r.observableArray(),what:"unread",menu:r.observable(),more:function(){this.load()},authed:r.observable(!1),user:r.observable(),pass:r.observable(),spin:r.observable(!1),query:r.observable(""),read:function(e){i.authed()&&(e.is_read(1),e.is_seen(1),o.put("/article/"+e.uuid+"/read",{}));var t=window.open(e.link,"_blank");t.focus()},seenTop:function(e){if(i.authed()){for(var t=i.array(),n=[],r=0;r<t.length;r++){var a=t[r];if(0===a.is_seen()&&(a.is_seen(1),n.push(a.uuid)),e===a)break}o.put("/seen",n)}},markRead:function(e){i.authed()&&(1===e.is_read()?(e.is_read(0),o.put("/article/"+e.uuid+"/unread",{})):(e.is_read(1),e.is_seen(1),o.put("/article/"+e.uuid+"/read",{})))},allRead:function(e){i.authed()&&(o.put("/feed/"+e.uuid+"/read",{}),e.unread(0))},allSeen:function(e){i.authed()&&(o.put("/feed/"+e.uuid+"/seen",{}),e.unseen(0))},important:function(e){i.authed()&&(1===e.is_important()?(e.is_important(0),o.put("/article/"+e.uuid+"/unimportant",{})):(e.is_important(1),o.put("/article/"+e.uuid+"/important",{})))},loadArticles:function(){var e=this,t="/"+e.what+"/"+e.start+"/"+e.batch;o.get(t,function(t,n){t||n.error||e.appendRawArticles(n.data)})},loadSearch:function(){var e=this,t=encodeURIComponent(e.query()),n="/search/"+t+"/"+e.start+"/"+e.batch;o.get(n,function(t,n){t||n.error||e.appendRawArticles(n.data)})},appendRawArticles:function(e){var t=this,n={observe:["is_read","is_important","is_seen"]};e.forEach(function(e){var a=new Date(1e3*e.published);e.date=a.toISOString().substring(0,10),e.title=e.title||"",e.title=e.title.replace(/<[^>]+>/g,""),t.array.push(r.mapping.fromJS(e,n))}),t.start+=e.length},search:function(e){a.go("search",encodeURIComponent(e.elements.query.value))},loadFeeds:function(){var e=this,t="/feeds/"+e.start+"/"+e.batch;o.get(t,function(t,n){if(!t&&!n.error){var a={observe:["unread","unseen"]};n.data.forEach(function(t){e.array.push(r.mapping.fromJS(t,a))}),e.start+=30}})},loadInvalid:function(){var e=this,t="/invalid/"+e.start+"/"+e.batch;o.get(t,function(t,n){t||n.error||(n.data.forEach(function(t){e.array.push(t)}),e.start+=30)})},deleteFeed:function(e){i.authed()&&o.del("/feed/"+e.uuid,function(){i.reload()})},deleteArticleFeed:function(e){i.authed()&&o.del("/feed/"+e.feed,function(){i.reload()})},resolveFeed:function(e){i.authed()&&o.put("/feed/"+e.uuid+"/resolve",{},function(){i.reload()})},reload:function(){this.reset(),this.load()},reset:function(){this.array.removeAll(),this.start=0},viewFeed:function(e){a.go("feed/"+e.uuid)},viewArticleFeed:function(e){a.go("feed/"+e.feed)},login:function(e){var t=this,n=e.elements;o.post("/login",{user:n.user.value,pass:n.pass.value},function(e,n){e||n.error||!n.data.ok||t.authed(!0)})},logout:function(){var e=this;o.post("/logout",{},function(t,n){t||n.error||e.authed(!1)})}};r.applyBindings(i),function(){var e=0;o.onstart=function(){e++,1===e&&i.spin(!0)},o.onend=function(){e--,0===e&&i.spin(!1)}}(),a(/^important/,function(){i.type("article"),i.what="important",i.menu("important"),i.load=i.loadArticles,i.reload()}),a(/^all/,function(){i.type("article"),i.what="articles",i.menu("all"),i.load=i.loadArticles,i.reload()}),a(/^unread/,function(){i.type("article"),i.what="unread",i.menu("unread"),i.load=i.loadArticles,i.reload()}),a(/^unseen/,function(){i.type("article"),i.what="unseen",i.menu("unseen"),i.load=i.loadArticles,i.reload()}),a(/^feeds/,function(){i.type("feed"),i.menu("feeds"),i.load=i.loadFeeds,i.reload()}),a(/^invalid/,function(){i.type("invalid"),i.menu("invalid"),i.load=i.loadInvalid,i.reload()}),a(/^feed\/([A-Za-z0-9\-]+)/,function(e){i.type("article"),i.what="feed/"+e,i.menu("feeds"),i.load=i.loadArticles,i.reload()}),a(/^search$/,function(){i.type("article"),i.menu("search"),i.query(""),i.load=i.loadSearch,i.reset()}),a(/^search\/(.+)/,function(e){i.type("article"),i.menu("search"),i.load=i.loadSearch,i.query(decodeURIComponent(e)),i.reload()}),a(/.*/,function(){a.go("unseen")}),i.authed(window.loggedIn)},{"./router":2,"./xhr-json":3,knockout:"knockout","knockout.mapping":"knockout.mapping"}],2:[function(e,t,n){var r=function(){function e(e,t){if(!(e instanceof RegExp))throw new Error("Route must be a regexp.");if("function"!=typeof t)throw new Error("Route handler must be a function.");n.push({regexp:e,cb:t})}function t(){for(var e=window.location.hash.substring(1),t=0;t<n.length;t++){var r=n[t],a=e.match(r.regexp);if(a){r.cb.apply(null,a.slice(1,a.length));break}}}var n=[];return e.go=function(e){var t=Array.prototype.slice.call(arguments,1);window.location.hash="#"+e+(t.length>0?"/"+t.join("/"):"")},window.addEventListener("load",t,!1),window.addEventListener("hashchange",t,!1),e}();"undefined"!=typeof t&&t.exports&&(t.exports=r)},{}],3:[function(e,t,n){var r=function(){function e(e,r,a,o){var i=new XMLHttpRequest;i.open(e,r,!0),i.onreadystatechange=t(i,a),o?(i.setRequestHeader("Content-Type","application/json"),i.send(JSON.stringify(o))):i.send(),n.onstart(i)}function t(e,t){return function(){4===e.readyState&&(n.onend(e),200===e.status?"function"==typeof t&&t(null,JSON.parse(e.responseText)):(n.onerror(e),"function"==typeof t&&t(new Error("Status code not 200."))))}}var n={onstart:function(){},onend:function(){},onerror:function(){}};return n.get=function(t,n){e("GET",t,n)},n.post=function(t,n,r){if("object"!=typeof n&&!Array.isArray(n))throw new Error("Data must be an object or an array.");e("POST",t,r,n)},n.del=n.delete=function(t,n){e("DELETE",t,n)},n.put=function(t,n,r){if("object"!=typeof n&&!Array.isArray(n))throw new Error("Data must be an object or an array.");e("PUT",t,r,n)},n}();"undefined"!=typeof t&&t.exports&&(t.exports=r)},{}],"knockout.mapping":[function(e,t,n){!function(r){"function"==typeof e&&"object"==typeof n&&"object"==typeof t?r(e("knockout"),n):"function"==typeof define&&define.amd?define(["knockout","exports"],r):r(ko,ko.mapping={})}(function(e,t){function n(e,r){var a,o;for(o in r)if(r.hasOwnProperty(o)&&r[o])if(a=t.getType(e[o]),o&&e[o]&&"array"!==a&&"string"!==a)n(e[o],r[o]);else if("array"===t.getType(e[o])&&"array"===t.getType(r[o])){a=e;for(var i=o,u=e[o],s=r[o],c={},f=u.length-1;0<=f;--f)c[u[f]]=u[f];for(f=s.length-1;0<=f;--f)c[s[f]]=s[f];u=[],s=void 0;for(s in c)u.push(c[s]);a[i]=u}else e[o]=r[o]}function r(e,t){var r={};return n(r,e),n(r,t),r}function a(e,t){for(var n=r({},e),a=w.length-1;0<=a;a--){var i=w[a];n[i]&&(n[""]instanceof Object||(n[""]={}),n[""][i]=n[i],delete n[i])}return t&&(n.ignore=o(t.ignore,n.ignore),n.include=o(t.include,n.include),n.copy=o(t.copy,n.copy),n.observe=o(t.observe,n.observe)),n.ignore=o(n.ignore,x.ignore),n.include=o(n.include,x.include),n.copy=o(n.copy,x.copy),n.observe=o(n.observe,x.observe),n.mappedProperties=n.mappedProperties||{},n.copiedProperties=n.copiedProperties||{},n}function o(n,r){return"array"!==t.getType(n)&&(n="undefined"===t.getType(n)?[]:[n]),"array"!==t.getType(r)&&(r="undefined"===t.getType(r)?[]:[r]),e.utils.arrayGetDistinctValues(n.concat(r))}function i(n,a,o,s,p,h,y){var w="array"===t.getType(e.utils.unwrapObservable(a));if(h=h||"",t.isMapped(n)){var _=e.utils.unwrapObservable(n)[g];o=r(_,o)}var x=y||p,E=function(){return o[s]&&o[s].create instanceof Function},T=function(t){var n=v,r=e.dependentObservable;return e.dependentObservable=function(t,r,a){a=a||{},t&&"object"==typeof t&&(a=t);var o=a.deferEvaluation,i=!1;if(a.deferEvaluation=!0,t=new m(t,r,a),!o){var u=t,o=e.dependentObservable;e.dependentObservable=m,t=e.isWriteableObservable(u),e.dependentObservable=o,o=m({read:function(){return i||(e.utils.arrayRemoveItem(n,u),i=!0),u.apply(u,arguments)},write:t&&function(e){return u(e)},deferEvaluation:!0}),o.__DO=u,t=o,n.push(t)}return t},e.dependentObservable.fn=m.fn,e.computed=e.dependentObservable,t=e.utils.unwrapObservable(p)instanceof Array?o[s].create({data:t||a,parent:x,skip:k}):o[s].create({data:t||a,parent:x}),e.dependentObservable=r,e.computed=e.dependentObservable,t},O=function(){return o[s]&&o[s].update instanceof Function},S=function(t,n){var r={data:n||a,parent:x,target:e.utils.unwrapObservable(t)};return e.isWriteableObservable(t)&&(r.observable=t),o[s].update(r)};if(y=b.get(a))return y;if(s=s||"",w){var w=[],N=!1,C=function(e){return e};o[s]&&o[s].key&&(C=o[s].key,N=!0),e.isObservable(n)||(n=e.observableArray([]),n.mappedRemove=function(e){var t="function"==typeof e?e:function(t){return t===C(e)};return n.remove(function(e){return t(C(e))})},n.mappedRemoveAll=function(t){var r=f(t,C);return n.remove(function(t){return-1!=e.utils.arrayIndexOf(r,C(t))})},n.mappedDestroy=function(e){var t="function"==typeof e?e:function(t){return t===C(e)};return n.destroy(function(e){return t(C(e))})},n.mappedDestroyAll=function(t){var r=f(t,C);return n.destroy(function(t){return-1!=e.utils.arrayIndexOf(r,C(t))})},n.mappedIndexOf=function(t){var r=f(n(),C);return t=C(t),e.utils.arrayIndexOf(r,t)},n.mappedGet=function(e){return n()[n.mappedIndexOf(e)]},n.mappedCreate=function(t){if(-1!==n.mappedIndexOf(t))throw Error("There already is an object with the key that you specified.");var r=E()?T(t):t;return O()&&(t=S(r,t),e.isWriteableObservable(r)?r(t):r=t),n.push(r),r}),y=f(e.utils.unwrapObservable(n),C).sort(),_=f(a,C),N&&_.sort(),N=e.utils.compareArrays(y,_),y={};var D,A=e.utils.unwrapObservable(a),j={},B=!0,_=0;for(D=A.length;_<D;_++){var M=C(A[_]);if(void 0===M||M instanceof Object){B=!1;break}j[M]=A[_]}var A=[],R=0,_=0;for(D=N.length;_<D;_++){var J,M=N[_],I=h+"["+_+"]";switch(M.status){case"added":var $=B?j[M.value]:c(e.utils.unwrapObservable(a),M.value,C);J=i(void 0,$,o,s,n,I,p),E()||(J=e.utils.unwrapObservable(J)),I=u(e.utils.unwrapObservable(a),$,y),J===k?R++:A[I-R]=J,y[I]=!0;break;case"retained":$=B?j[M.value]:c(e.utils.unwrapObservable(a),M.value,C),J=c(n,M.value,C),i(J,$,o,s,n,I,p),I=u(e.utils.unwrapObservable(a),$,y),A[I]=J,y[I]=!0;break;case"deleted":J=c(n,M.value,C)}w.push({event:M.status,item:J})}n(A),o[s]&&o[s].arrayChanged&&e.utils.arrayForEach(w,function(e){o[s].arrayChanged(e.event,e.item)})}else if(d(a)){if(n=e.utils.unwrapObservable(n),!n){if(E())return N=T(),O()&&(N=S(N)),N;if(O())return S(N);n={}}if(O()&&(n=S(n)),b.save(a,n),O())return n;l(a,function(t){var r=h.length?h+"."+t:t;if(-1==e.utils.arrayIndexOf(o.ignore,r))if(-1!=e.utils.arrayIndexOf(o.copy,r))n[t]=a[t];else if("object"!=typeof a[t]&&"array"!=typeof a[t]&&0<o.observe.length&&-1==e.utils.arrayIndexOf(o.observe,r))n[t]=a[t],o.copiedProperties[r]=!0;else{var u=b.get(a[t]),s=i(n[t],a[t],o,t,n,r,n),u=u||s;0<o.observe.length&&-1==e.utils.arrayIndexOf(o.observe,r)?(n[t]=u(),o.copiedProperties[r]=!0):(e.isWriteableObservable(n[t])?(u=e.utils.unwrapObservable(u),n[t]()!==u&&n[t](u)):(u=void 0===n[t]?u:e.utils.unwrapObservable(u),n[t]=u),o.mappedProperties[r]=!0)}})}else switch(t.getType(a)){case"function":O()?e.isWriteableObservable(a)?(a(S(a)),n=a):n=S(a):n=a;break;default:if(e.isWriteableObservable(n))return J=O()?S(n):e.utils.unwrapObservable(a),n(J),J;E()||O(),n=E()?T():e.observable(e.utils.unwrapObservable(a)),O()&&n(S(n))}return n}function u(e,t,n){for(var r=0,a=e.length;r<a;r++)if(!0!==n[r]&&e[r]===t)return r;return null}function s(n,r){var a;return r&&(a=r(n)),"undefined"===t.getType(a)&&(a=n),e.utils.unwrapObservable(a)}function c(t,n,r){t=e.utils.unwrapObservable(t);for(var a=0,o=t.length;a<o;a++){var i=t[a];if(s(i,r)===n)return i}throw Error("When calling ko.update*, the key '"+n+"' was not found!")}function f(t,n){return e.utils.arrayMap(e.utils.unwrapObservable(t),function(e){return n?s(e,n):e})}function l(e,n){if("array"===t.getType(e))for(var r=0;r<e.length;r++)n(r);else for(r in e)n(r)}function d(e){var n=t.getType(e);return("object"===n||"array"===n)&&null!==e}function p(){var t=[],n=[];this.save=function(r,a){var o=e.utils.arrayIndexOf(t,r);0<=o?n[o]=a:(t.push(r),n.push(a))},this.get=function(r){return r=e.utils.arrayIndexOf(t,r),0<=r?n[r]:void 0}}function h(){var e={},t=function(t){var n;try{n=t}catch(e){n="$$$"}return t=e[n],void 0===t&&(t=new p,e[n]=t),t};this.save=function(e,n){t(e).save(e,n)},this.get=function(e){return t(e).get(e)}}var v,b,g="__ko_mapping__",m=e.dependentObservable,y=0,w=["create","update","key","arrayChanged"],k={},_={include:["_destroy"],ignore:[],copy:[],observe:[]},x=_;t.isMapped=function(t){return(t=e.utils.unwrapObservable(t))&&t[g]},t.fromJS=function(e){if(0==arguments.length)throw Error("When calling ko.fromJS, pass the object you want to convert.");try{y++||(v=[],b=new h);var t,n;2==arguments.length&&(arguments[1][g]?n=arguments[1]:t=arguments[1]),3==arguments.length&&(t=arguments[1],n=arguments[2]),n&&(t=r(t,n[g])),t=a(t);var o=i(n,e,t);if(n&&(o=n),!--y)for(;v.length;){var u=v.pop();u&&(u(),u.__DO.throttleEvaluation=u.throttleEvaluation)}return o[g]=r(o[g],t),o}catch(e){throw y=0,e}},t.fromJSON=function(n){var r=e.utils.parseJson(n);return arguments[0]=r,t.fromJS.apply(this,arguments)},t.updateFromJS=function(){throw Error("ko.mapping.updateFromJS, use ko.mapping.fromJS instead. Please note that the order of parameters is different!")},t.updateFromJSON=function(){throw Error("ko.mapping.updateFromJSON, use ko.mapping.fromJSON instead. Please note that the order of parameters is different!")},t.toJS=function(n,r){if(x||t.resetDefaultOptions(),0==arguments.length)throw Error("When calling ko.mapping.toJS, pass the object you want to convert.");if("array"!==t.getType(x.ignore))throw Error("ko.mapping.defaultOptions().ignore should be an array.");if("array"!==t.getType(x.include))throw Error("ko.mapping.defaultOptions().include should be an array.");if("array"!==t.getType(x.copy))throw Error("ko.mapping.defaultOptions().copy should be an array.");return r=a(r,n[g]),t.visitModel(n,function(t){return e.utils.unwrapObservable(t)},r)},t.toJSON=function(n,r){var a=t.toJS(n,r);return e.utils.stringifyJson(a)},t.defaultOptions=function(){return 0<arguments.length?void(x=arguments[0]):x},t.resetDefaultOptions=function(){x={include:_.include.slice(0),ignore:_.ignore.slice(0),copy:_.copy.slice(0)}},t.getType=function(e){if(e&&"object"==typeof e){if(e.constructor===Date)return"date";if(e.constructor===Array)return"array"}return typeof e},t.visitModel=function(n,r,o){o=o||{},o.visitedObjects=o.visitedObjects||new h;var i,u=e.utils.unwrapObservable(n);if(!d(u))return r(n,o.parentName);o=a(o,u[g]),r(n,o.parentName),i="array"===t.getType(u)?[]:{},o.visitedObjects.save(n,i);var s=o.parentName;return l(u,function(n){if(!o.ignore||-1==e.utils.arrayIndexOf(o.ignore,n)){var a=u[n],c=o,f=s||"";if("array"===t.getType(u)?s&&(f+="["+n+"]"):(s&&(f+="."),f+=n),c.parentName=f,-1!==e.utils.arrayIndexOf(o.copy,n)||-1!==e.utils.arrayIndexOf(o.include,n)||!u[g]||!u[g].mappedProperties||u[g].mappedProperties[n]||!u[g].copiedProperties||u[g].copiedProperties[n]||"array"===t.getType(u))switch(t.getType(e.utils.unwrapObservable(a))){case"object":case"array":case"undefined":c=o.visitedObjects.get(a),i[n]="undefined"!==t.getType(c)?c:t.visitModel(a,r,o);break;default:i[n]=r(a,o.parentName)}}}),i}})},{knockout:"knockout"}],knockout:[function(e,t,n){!function(){function r(e){throw e}function a(e){return function(){return e}}function o(e){function t(e,t,r,a,o){var i=[];return e=j.j(function(){var e=t(r,o)||[];0<i.length&&(j.a.Ya(n(i),e),a&&j.r.K(a,u,[r,e,o])),i.splice(0,i.length),j.a.P(i,e)},u,{W:e,Ka:function(){return 0==i.length||!j.a.X(i[0])}}),{M:i,j:e.pa()?e:p}}function n(e){for(;e.length&&!j.a.X(e[0]);)e.splice(0,1);if(1<e.length){for(var t=e[0],n=e[e.length-1],r=[t];t!==n;){if(t=t.nextSibling,!t)return;r.push(t)}Array.prototype.splice.apply(e,[0,e.length].concat(r))}return e}function o(e,t,n,r,a){var o,i,u,s,c,f=Math.min,l=Math.max,d=[],p=e.length,h=t.length,v=h-p||1,b=p+h+1;for(o=0;o<=p;o++)for(s=u,d.push(u=[]),c=f(h,o+v),i=l(0,o-1);i<=c;i++)u[i]=i?o?e[o-1]===t[i-1]?s[i-1]:f(s[i]||b,u[i-1]||b)+1:i+1:o+1;for(f=[],l=[],v=[],o=p,i=h;o||i;)h=d[o][i]-1,i&&h===d[o][i-1]?l.push(f[f.length]={status:n,value:t[--i],index:i}):o&&h===d[o-1][i]?v.push(f[f.length]={status:r,value:e[--o],index:o}):(f.push({status:"retained",value:t[--i]}),--o);if(l.length&&v.length){e=10*p;var g;for(t=n=0;(a||t<e)&&(g=l[n]);n++){for(r=0;d=v[r];r++)if(g.value===d.value){g.moved=d.index,d.moved=g.index,v.splice(r,1),t=r=0;break}t+=r}}return f.reverse()}function h(e,t,n,a,o){o=o||{};var c=e&&v(e),c=c&&c.ownerDocument,f=o.templateEngine||G;switch(j.za.vb(n,f,c),n=f.renderTemplate(n,a,o,c),("number"!=typeof n.length||0<n.length&&"number"!=typeof n[0].nodeType)&&r(Error("Template engine must return an array of DOM nodes")),c=s,t){case"replaceChildren":j.e.N(e,n),c=i;break;case"replaceNode":j.a.Ya(e,n),c=i;break;case"ignoreTargetNode":break;default:r(Error("Unknown renderMode: "+t))}return c&&(b(n,a),o.afterRender&&j.r.K(o.afterRender,u,[n,a.$data])),n}function v(e){return e.nodeType?e:0<e.length?e[0]:u}function b(e,t){if(e.length){var n=e[0],r=e[e.length-1];g(n,r,function(e){j.Da(t,e)}),g(n,r,function(e){j.s.ib(e,[t])})}}function g(e,t,n){var r;for(t=j.e.nextSibling(t);e&&(r=e)!==t;)e=j.e.nextSibling(r),(1===r.nodeType||8===r.nodeType)&&n(r)}function m(e,t,n){e=j.g.aa(e);for(var a=j.g.Q,o=0;o<e.length;o++){var i=e[o].key;if(a.hasOwnProperty(i)){var u=a[i];"function"==typeof u?(i=u(e[o].value))&&r(Error(i)):u||r(Error("This template engine does not support the '"+i+"' binding within its templates"))}}return e="ko.__tr_ambtns(function($context,$element){return(function(){return{ "+j.g.ba(e)+" } })()})",n.createJavaScriptEvaluatorBlock(e)+t}function y(e,t,n,a){function o(e){return function(){return s[e]}}function i(){return s}var s,c,f=0;return j.j(function(){var u=n&&n instanceof j.z?n:new j.z(j.a.d(n)),l=u.$data;if(a&&j.eb(e,u),s=("function"==typeof t?t(u,e):t)||j.J.instance.getBindings(e,u)){if(0===f){f=1;for(var d in s){var h=j.c[d];h&&8===e.nodeType&&!j.e.I[d]&&r(Error("The binding '"+d+"' cannot be used with virtual elements")),h&&"function"==typeof h.init&&(h=(0,h.init)(e,o(d),i,l,u))&&h.controlsDescendantBindings&&(c!==p&&r(Error("Multiple bindings ("+c+" and "+d+") are trying to control descendant bindings of the same element. You cannot use these bindings together on the same element.")),c=d)}f=2}if(2===f)for(d in s)(h=j.c[d])&&"function"==typeof h.update&&(0,h.update)(e,o(d),i,l,u)}},u,{W:e}),{Nb:c===p}}function w(e,t,n){var r=i,a=1===t.nodeType;a&&j.e.Ta(t),(a&&n||j.J.instance.nodeHasBindings(t))&&(r=y(t,u,e,n).Nb),r&&k(e,t,!a)}function k(e,t,n){for(var r=j.e.firstChild(t);t=r;)r=j.e.nextSibling(t),w(e,t,n)}function _(e,t){var n=x(e,t);return n?0<n.length?n[n.length-1].nextSibling:e.nextSibling:u}function x(e,t){for(var n=e,a=1,o=[];n=n.nextSibling;){if(E(n)&&(a--,0===a))return o;o.push(n),T(n)&&a++}return t||r(Error("Cannot find closing comment tag to match: "+e.nodeValue)),u}function E(e){return 8==e.nodeType&&(q?e.text:e.nodeValue).match(L)}function T(e){return 8==e.nodeType&&(q?e.text:e.nodeValue).match(P)}function O(e,t){for(var n=u;e!=n;)n=e,e=e.replace(I,function(e,n){return t[n]});return e}function S(){var e=[],t=[];this.save=function(n,r){var a=j.a.i(e,n);0<=a?t[a]=r:(e.push(n),t.push(r))},this.get=function(n){return n=j.a.i(e,n),0<=n?t[n]:p}}function N(e,t,n){function r(r){var o=t(e[r]);switch(typeof o){case"boolean":case"number":case"string":case"function":a[r]=o;break;case"object":case"undefined":var i=n.get(o);a[r]=i!==p?i:N(o,t,n)}}if(n=n||new S,e=t(e),"object"!=typeof e||e===u||e===p||e instanceof Date)return e;var a=e instanceof Array?[]:{};n.save(e,a);var o=e;if(o instanceof Array){for(var i=0;i<o.length;i++)r(i);"function"==typeof o.toJSON&&r("toJSON")}else for(i in o)r(i);return a}function C(e,t){if(e)if(8==e.nodeType){var n=j.s.Ua(e.nodeValue);n!=u&&t.push({sb:e,Fb:n})}else if(1==e.nodeType)for(var n=0,r=e.childNodes,a=r.length;n<a;n++)C(r[n],t)}function D(e,t,n,r){j.c[e]={init:function(e){return j.a.f.set(e,V,{}),{controlsDescendantBindings:i}},update:function(e,a,o,u,s){o=j.a.f.get(e,V),a=j.a.d(a()),u=!n!=!a;var c=!o.Za;(c||t||u!==o.qb)&&(c&&(o.Za=j.a.Ia(j.e.childNodes(e),i)),u?(c||j.e.N(e,j.a.Ia(o.Za)),j.Ea(r?r(s,a):s,e)):j.e.Y(e),o.qb=u)}},j.g.Q[e]=s,j.e.I[e]=i}function A(e,t,n){n&&t!==j.k.q(e)&&j.k.T(e,t),t!==j.k.q(e)&&j.r.K(j.a.Ba,u,[e,"change"])}var j="undefined"!=typeof e?e:{};j.b=function(e,t){for(var n=e.split("."),r=j,a=0;a<n.length-1;a++)r=r[n[a]];r[n[n.length-1]]=t},j.p=function(e,t,n){e[t]=n},j.version="2.2.1",j.b("version",j.version),j.a=new function(){function e(e,t){if("input"!==j.a.u(e)||!e.type||"click"!=t.toLowerCase())return s;var n=e.type;return"checkbox"==n||"radio"==n}var t=/^(\s|\u00A0)+|(\s|\u00A0)+$/g,n={},a={};n[/Firefox\/2/i.test(l.userAgent)?"KeyboardEvent":"UIEvents"]=["keyup","keydown","keypress"],n.MouseEvents="click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave".split(" ");for(var o in n){var h=n[o];if(h.length)for(var v=0,b=h.length;v<b;v++)a[h[v]]=o}var g,m={propertychange:i},n=3;for(o=f.createElement("div"),h=o.getElementsByTagName("i");o.innerHTML="<!--[if gt IE "+ ++n+"]><i></i><![endif]-->",h[0];);return g=4<n?n:p,{Na:["authenticity_token",/^__RequestVerificationToken(_.*)?$/],o:function(e,t){for(var n=0,r=e.length;n<r;n++)t(e[n])},i:function(e,t){if("function"==typeof Array.prototype.indexOf)return Array.prototype.indexOf.call(e,t);for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},lb:function(e,t,n){for(var r=0,a=e.length;r<a;r++)if(t.call(n,e[r]))return e[r];return u},ga:function(e,t){var n=j.a.i(e,t);0<=n&&e.splice(n,1)},Ga:function(e){e=e||[];for(var t=[],n=0,r=e.length;n<r;n++)0>j.a.i(t,e[n])&&t.push(e[n]);return t},V:function(e,t){e=e||[];for(var n=[],r=0,a=e.length;r<a;r++)n.push(t(e[r]));return n},fa:function(e,t){e=e||[];for(var n=[],r=0,a=e.length;r<a;r++)t(e[r])&&n.push(e[r]);return n},P:function(e,t){if(t instanceof Array)e.push.apply(e,t);else for(var n=0,r=t.length;n<r;n++)e.push(t[n]);return e},extend:function(e,t){if(t)for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e},ka:function(e){for(;e.firstChild;)j.removeNode(e.firstChild)},Hb:function(e){e=j.a.L(e);for(var t=f.createElement("div"),n=0,r=e.length;n<r;n++)t.appendChild(j.A(e[n]));return t},Ia:function(e,t){for(var n=0,r=e.length,a=[];n<r;n++){var o=e[n].cloneNode(i);a.push(t?j.A(o):o)}return a},N:function(e,t){if(j.a.ka(e),t)for(var n=0,r=t.length;n<r;n++)e.appendChild(t[n])},Ya:function(e,t){var n=e.nodeType?[e]:e;if(0<n.length){for(var r=n[0],a=r.parentNode,o=0,i=t.length;o<i;o++)a.insertBefore(t[o],r);for(o=0,i=n.length;o<i;o++)j.removeNode(n[o])}},bb:function(e,t){7>g?e.setAttribute("selected",t):e.selected=t},D:function(e){return(e||"").replace(t,"")},Rb:function(e,t){for(var n=[],r=(e||"").split(t),a=0,o=r.length;a<o;a++){var i=j.a.D(r[a]);""!==i&&n.push(i)}return n},Ob:function(e,t){return e=e||"",t.length>e.length?s:e.substring(0,t.length)===t},tb:function(e,t){if(t.compareDocumentPosition)return 16==(16&t.compareDocumentPosition(e));for(;e!=u;){if(e==t)return i;e=e.parentNode}return s},X:function(e){return j.a.tb(e,e.ownerDocument)},u:function(e){return e&&e.tagName&&e.tagName.toLowerCase()},n:function(t,n,a){var o=g&&m[n];if(o||"undefined"==typeof d)o||"function"!=typeof t.addEventListener?"undefined"!=typeof t.attachEvent?t.attachEvent("on"+n,function(e){a.call(t,e)}):r(Error("Browser doesn't support addEventListener or attachEvent")):t.addEventListener(n,a,s);else{if(e(t,n)){var u=a;a=function(e,t){var n=this.checked;t&&(this.checked=t.nb!==i),u.call(this,e),this.checked=n}}d(t).bind(n,a)}},Ba:function(t,n){if((!t||!t.nodeType)&&r(Error("element must be a DOM node when calling triggerEvent")),"undefined"!=typeof d){var o=[];e(t,n)&&o.push({nb:t.checked}),d(t).trigger(n,o)}else"function"==typeof f.createEvent?"function"==typeof t.dispatchEvent?(o=f.createEvent(a[n]||"HTMLEvents"),o.initEvent(n,i,i,c,0,0,0,0,0,s,s,s,s,0,t),t.dispatchEvent(o)):r(Error("The supplied element doesn't support dispatchEvent")):"undefined"!=typeof t.fireEvent?(e(t,n)&&(t.checked=t.checked!==i),t.fireEvent("on"+n)):r(Error("Browser doesn't support triggering events"))},d:function(e){return j.$(e)?e():e},ua:function(e){return j.$(e)?e.t():e},da:function(e,t,n){if(t){var r=/[\w-]+/g,a=e.className.match(r)||[];j.a.o(t.match(r),function(e){var t=j.a.i(a,e);0<=t?n||a.splice(t,1):n&&a.push(e)}),e.className=a.join(" ")}},cb:function(e,t){var n=j.a.d(t);if(n!==u&&n!==p||(n=""),3===e.nodeType)e.data=n;else{var r=j.e.firstChild(e);!r||3!=r.nodeType||j.e.nextSibling(r)?j.e.N(e,[f.createTextNode(n)]):r.data=n,j.a.wb(e)}},ab:function(e,t){if(e.name=t,7>=g)try{e.mergeAttributes(f.createElement("<input name='"+e.name+"'/>"),s)}catch(e){}},wb:function(e){9<=g&&(e=1==e.nodeType?e:e.parentNode,e.style&&(e.style.zoom=e.style.zoom))},ub:function(e){if(9<=g){var t=e.style.width;e.style.width=0,e.style.width=t}},Lb:function(e,t){e=j.a.d(e),t=j.a.d(t);for(var n=[],r=e;r<=t;r++)n.push(r);return n},L:function(e){for(var t=[],n=0,r=e.length;n<r;n++)t.push(e[n]);return t},Pb:6===g,Qb:7===g,Z:g,Oa:function(e,t){for(var n=j.a.L(e.getElementsByTagName("input")).concat(j.a.L(e.getElementsByTagName("textarea"))),r="string"==typeof t?function(e){return e.name===t}:function(e){return t.test(e.name)},a=[],o=n.length-1;0<=o;o--)r(n[o])&&a.push(n[o]);return a},Ib:function(e){return"string"==typeof e&&(e=j.a.D(e))?c.JSON&&c.JSON.parse?c.JSON.parse(e):new Function("return "+e)():u},xa:function(e,t,n){return("undefined"==typeof JSON||"undefined"==typeof JSON.stringify)&&r(Error("Cannot find JSON.stringify(). Some browsers (e.g., IE < 8) don't support it natively, but you can overcome this by adding a script reference to json2.js, downloadable from http://www.json.org/json2.js")),JSON.stringify(j.a.d(e),t,n)},Jb:function(e,t,n){n=n||{};var r=n.params||{},a=n.includeFields||this.Na,o=e;if("object"==typeof e&&"form"===j.a.u(e))for(var o=e.action,i=a.length-1;0<=i;i--)for(var u=j.a.Oa(e,a[i]),s=u.length-1;0<=s;s--)r[u[s].name]=u[s].value;t=j.a.d(t);var c=f.createElement("form");c.style.display="none",c.action=o,c.method="post";for(var l in t)e=f.createElement("input"),e.name=l,e.value=j.a.xa(j.a.d(t[l])),c.appendChild(e);for(l in r)e=f.createElement("input"),e.name=l,e.value=r[l],c.appendChild(e);f.body.appendChild(c),n.submitter?n.submitter(c):c.submit(),setTimeout(function(){c.parentNode.removeChild(c)},0)}}},j.b("utils",j.a),j.b("utils.arrayForEach",j.a.o),j.b("utils.arrayFirst",j.a.lb),j.b("utils.arrayFilter",j.a.fa),j.b("utils.arrayGetDistinctValues",j.a.Ga),j.b("utils.arrayIndexOf",j.a.i),j.b("utils.arrayMap",j.a.V),j.b("utils.arrayPushAll",j.a.P),j.b("utils.arrayRemoveItem",j.a.ga),j.b("utils.extend",j.a.extend),j.b("utils.fieldsIncludedWithJsonPost",j.a.Na),j.b("utils.getFormFields",j.a.Oa),j.b("utils.peekObservable",j.a.ua),j.b("utils.postJson",j.a.Jb),j.b("utils.parseJson",j.a.Ib),j.b("utils.registerEventHandler",j.a.n),j.b("utils.stringifyJson",j.a.xa),j.b("utils.range",j.a.Lb),j.b("utils.toggleDomNodeCssClass",j.a.da),j.b("utils.triggerEvent",j.a.Ba),j.b("utils.unwrapObservable",j.a.d),Function.prototype.bind||(Function.prototype.bind=function(e){var t=this,n=Array.prototype.slice.call(arguments);return e=n.shift(),function(){return t.apply(e,n.concat(Array.prototype.slice.call(arguments)))}}),j.a.f=new function(){var e=0,t="__ko__"+(new Date).getTime(),n={};return{get:function(e,t){var n=j.a.f.la(e,s);return n===p?p:n[t]},set:function(e,t,n){n===p&&j.a.f.la(e,s)===p||(j.a.f.la(e,i)[t]=n)},la:function(r,a){var o=r[t];if(!o||"null"===o||!n[o]){if(!a)return p;o=r[t]="ko"+e++,n[o]={}}return n[o]},clear:function(e){var r=e[t];return r?(delete n[r],e[t]=u,i):s}}},j.b("utils.domData",j.a.f),j.b("utils.domData.clear",j.a.f.clear),j.a.F=new function(){function e(e,t){var r=j.a.f.get(e,n);return r===p&&t&&(r=[],j.a.f.set(e,n,r)),r}function t(n){var r=e(n,s);if(r)for(var r=r.slice(0),a=0;a<r.length;a++)r[a](n);if(j.a.f.clear(n),"function"==typeof d&&"function"==typeof d.cleanData&&d.cleanData([n]),o[n.nodeType])for(r=n.firstChild;n=r;)r=n.nextSibling,8===n.nodeType&&t(n)}var n="__ko_domNodeDisposal__"+(new Date).getTime(),a={1:i,8:i,9:i},o={1:i,9:i};return{Ca:function(t,n){"function"!=typeof n&&r(Error("Callback must be a function")),e(t,i).push(n)},Xa:function(t,r){var a=e(t,s);a&&(j.a.ga(a,r),0==a.length&&j.a.f.set(t,n,p))},A:function(e){if(a[e.nodeType]&&(t(e),o[e.nodeType])){var n=[];j.a.P(n,e.getElementsByTagName("*"));for(var r=0,i=n.length;r<i;r++)t(n[r])}return e},removeNode:function(e){j.A(e),e.parentNode&&e.parentNode.removeChild(e)}}},j.A=j.a.F.A,j.removeNode=j.a.F.removeNode,j.b("cleanNode",j.A),j.b("removeNode",j.removeNode),j.b("utils.domNodeDisposal",j.a.F),j.b("utils.domNodeDisposal.addDisposeCallback",j.a.F.Ca),j.b("utils.domNodeDisposal.removeDisposeCallback",j.a.F.Xa),j.a.ta=function(e){var t;if("undefined"!=typeof d){if(d.parseHTML)t=d.parseHTML(e);else if((t=d.clean([e]))&&t[0]){for(e=t[0];e.parentNode&&11!==e.parentNode.nodeType;)e=e.parentNode;e.parentNode&&e.parentNode.removeChild(e)}}else{var n=j.a.D(e).toLowerCase();for(t=f.createElement("div"),n=n.match(/^<(thead|tbody|tfoot)/)&&[1,"<table>","</table>"]||!n.indexOf("<tr")&&[2,"<table><tbody>","</tbody></table>"]||(!n.indexOf("<td")||!n.indexOf("<th"))&&[3,"<table><tbody><tr>","</tr></tbody></table>"]||[0,"",""],e="ignored<div>"+n[1]+e+n[2]+"</div>","function"==typeof c.innerShiv?t.appendChild(c.innerShiv(e)):t.innerHTML=e;n[0]--;)t=t.lastChild;t=j.a.L(t.lastChild.childNodes)}return t},j.a.ca=function(e,t){if(j.a.ka(e),t=j.a.d(t),t!==u&&t!==p)if("string"!=typeof t&&(t=t.toString()),"undefined"!=typeof d)d(e).html(t);else for(var n=j.a.ta(t),r=0;r<n.length;r++)e.appendChild(n[r])},j.b("utils.parseHtmlFragment",j.a.ta),j.b("utils.setHtml",j.a.ca);var B={};j.s={ra:function(e){"function"!=typeof e&&r(Error("You can only pass a function to ko.memoization.memoize()"));var t=(4294967296*(1+Math.random())|0).toString(16).substring(1)+(4294967296*(1+Math.random())|0).toString(16).substring(1);return B[t]=e,"<!--[ko_memo:"+t+"]-->"},hb:function(e,t){var n=B[e];n===p&&r(Error("Couldn't find any memo with ID "+e+". Perhaps it's already been unmemoized."));try{return n.apply(u,t||[]),i}finally{delete B[e]}},ib:function(e,t){var n=[];C(e,n);for(var r=0,a=n.length;r<a;r++){var o=n[r].sb,i=[o];t&&j.a.P(i,t),j.s.hb(n[r].Fb,i),o.nodeValue="",o.parentNode&&o.parentNode.removeChild(o)}},Ua:function(e){return(e=e.match(/^\[ko_memo\:(.*?)\]$/))?e[1]:u}},j.b("memoization",j.s),j.b("memoization.memoize",j.s.ra),j.b("memoization.unmemoize",j.s.hb),j.b("memoization.parseMemoText",j.s.Ua),j.b("memoization.unmemoizeDomNodeAndDescendants",j.s.ib),j.Ma={throttle:function(e,t){e.throttleEvaluation=t;var n=u;return j.j({read:e,write:function(r){clearTimeout(n),n=setTimeout(function(){e(r)},t)}})},notify:function(e,t){return e.equalityComparer="always"==t?a(s):j.m.fn.equalityComparer,e}},j.b("extenders",j.Ma),j.fb=function(e,t,n){this.target=e,this.ha=t,this.rb=n,j.p(this,"dispose",this.B)},j.fb.prototype.B=function(){this.Cb=i,this.rb()},j.S=function(){this.w={},j.a.extend(this,j.S.fn),j.p(this,"subscribe",this.ya),j.p(this,"extend",this.extend),j.p(this,"getSubscriptionsCount",this.yb)},j.S.fn={ya:function(e,t,n){n=n||"change";var r=new j.fb(this,t?e.bind(t):e,function(){j.a.ga(this.w[n],r)}.bind(this));return this.w[n]||(this.w[n]=[]),
this.w[n].push(r),r},notifySubscribers:function(e,t){t=t||"change",this.w[t]&&j.r.K(function(){j.a.o(this.w[t].slice(0),function(t){t&&t.Cb!==i&&t.ha(e)})},this)},yb:function(){var e,t=0;for(e in this.w)this.w.hasOwnProperty(e)&&(t+=this.w[e].length);return t},extend:function(e){var t=this;if(e)for(var n in e){var r=j.Ma[n];"function"==typeof r&&(t=r(t,e[n]))}return t}},j.Qa=function(e){return"function"==typeof e.ya&&"function"==typeof e.notifySubscribers},j.b("subscribable",j.S),j.b("isSubscribable",j.Qa);var M=[];j.r={mb:function(e){M.push({ha:e,La:[]})},end:function(){M.pop()},Wa:function(e){if(j.Qa(e)||r(Error("Only subscribable things can act as dependencies")),0<M.length){var t=M[M.length-1];t&&!(0<=j.a.i(t.La,e))&&(t.La.push(e),t.ha(e))}},K:function(e,t,n){try{return M.push(u),e.apply(t,n||[])}finally{M.pop()}}};var R={undefined:i,boolean:i,number:i,string:i};j.m=function(e){function t(){return 0<arguments.length?(t.equalityComparer&&t.equalityComparer(n,arguments[0])||(t.H(),n=arguments[0],t.G()),this):(j.r.Wa(t),n)}var n=e;return j.S.call(t),t.t=function(){return n},t.G=function(){t.notifySubscribers(n)},t.H=function(){t.notifySubscribers(n,"beforeChange")},j.a.extend(t,j.m.fn),j.p(t,"peek",t.t),j.p(t,"valueHasMutated",t.G),j.p(t,"valueWillMutate",t.H),t},j.m.fn={equalityComparer:function(e,t){return e===u||typeof e in R?e===t:s}};var J=j.m.Kb="__ko_proto__";j.m.fn[J]=j.m,j.ma=function(e,t){return e===u||e===p||e[J]===p?s:e[J]===t?i:j.ma(e[J],t)},j.$=function(e){return j.ma(e,j.m)},j.Ra=function(e){return"function"==typeof e&&e[J]===j.m||"function"==typeof e&&e[J]===j.j&&e.zb?i:s},j.b("observable",j.m),j.b("isObservable",j.$),j.b("isWriteableObservable",j.Ra),j.R=function(e){0==arguments.length&&(e=[]),e!==u&&e!==p&&!("length"in e)&&r(Error("The argument passed when initializing an observable array must be an array, or null, or undefined."));var t=j.m(e);return j.a.extend(t,j.R.fn),t},j.R.fn={remove:function(e){for(var t=this.t(),n=[],r="function"==typeof e?e:function(t){return t===e},a=0;a<t.length;a++){var o=t[a];r(o)&&(0===n.length&&this.H(),n.push(o),t.splice(a,1),a--)}return n.length&&this.G(),n},removeAll:function(e){if(e===p){var t=this.t(),n=t.slice(0);return this.H(),t.splice(0,t.length),this.G(),n}return e?this.remove(function(t){return 0<=j.a.i(e,t)}):[]},destroy:function(e){var t=this.t(),n="function"==typeof e?e:function(t){return t===e};this.H();for(var r=t.length-1;0<=r;r--)n(t[r])&&(t[r]._destroy=i);this.G()},destroyAll:function(e){return e===p?this.destroy(a(i)):e?this.destroy(function(t){return 0<=j.a.i(e,t)}):[]},indexOf:function(e){var t=this();return j.a.i(t,e)},replace:function(e,t){var n=this.indexOf(e);0<=n&&(this.H(),this.t()[n]=t,this.G())}},j.a.o("pop push reverse shift sort splice unshift".split(" "),function(e){j.R.fn[e]=function(){var t=this.t();return this.H(),t=t[e].apply(t,arguments),this.G(),t}}),j.a.o(["slice"],function(e){j.R.fn[e]=function(){var t=this();return t[e].apply(t,arguments)}}),j.b("observableArray",j.R),j.j=function(e,t,n){function o(){j.a.o(_,function(e){e.B()}),_=[]}function c(){var e=l.throttleEvaluation;e&&0<=e?(clearTimeout(x),x=setTimeout(f,e)):f()}function f(){if(!b)if(v&&w())k();else{b=i;try{var e=j.a.V(_,function(e){return e.target});j.r.mb(function(t){var n;0<=(n=j.a.i(e,t))?e[n]=p:_.push(t.ya(c))});for(var n=g.call(t),r=e.length-1;0<=r;r--)e[r]&&_.splice(r,1)[0].B();v=i,l.notifySubscribers(h,"beforeChange"),h=n}finally{j.r.end()}l.notifySubscribers(h),b=s,_.length||k()}}function l(){return 0<arguments.length?("function"==typeof m?m.apply(t,arguments):r(Error("Cannot write a value to a ko.computed unless you specify a 'write' option. If you wish to read the current value, don't pass any parameters.")),this):(v||f(),j.r.Wa(l),h)}function d(){return!v||0<_.length}var h,v=s,b=s,g=e;g&&"object"==typeof g?(n=g,g=n.read):(n=n||{},g||(g=n.read)),"function"!=typeof g&&r(Error("Pass a function that returns the value of the ko.computed"));var m=n.write,y=n.disposeWhenNodeIsRemoved||n.W||u,w=n.disposeWhen||n.Ka||a(s),k=o,_=[],x=u;if(t||(t=n.owner),l.t=function(){return v||f(),h},l.xb=function(){return _.length},l.zb="function"==typeof n.write,l.B=function(){k()},l.pa=d,j.S.call(l),j.a.extend(l,j.j.fn),j.p(l,"peek",l.t),j.p(l,"dispose",l.B),j.p(l,"isActive",l.pa),j.p(l,"getDependenciesCount",l.xb),n.deferEvaluation!==i&&f(),y&&d()){k=function(){j.a.F.Xa(y,arguments.callee),o()},j.a.F.Ca(y,k);var E=w,w=function(){return!j.a.X(y)||E()}}return l},j.Bb=function(e){return j.ma(e,j.j)},e=j.m.Kb,j.j[e]=j.m,j.j.fn={},j.j.fn[e]=j.j,j.b("dependentObservable",j.j),j.b("computed",j.j),j.b("isComputed",j.Bb),j.gb=function(e){return 0==arguments.length&&r(Error("When calling ko.toJS, pass the object you want to convert.")),N(e,function(e){for(var t=0;j.$(e)&&10>t;t++)e=e();return e})},j.toJSON=function(e,t,n){return e=j.gb(e),j.a.xa(e,t,n)},j.b("toJS",j.gb),j.b("toJSON",j.toJSON),j.k={q:function(e){switch(j.a.u(e)){case"option":return e.__ko__hasDomDataOptionValue__===i?j.a.f.get(e,j.c.options.sa):7>=j.a.Z?e.getAttributeNode("value").specified?e.value:e.text:e.value;case"select":return 0<=e.selectedIndex?j.k.q(e.options[e.selectedIndex]):p;default:return e.value}},T:function(e,t){switch(j.a.u(e)){case"option":switch(typeof t){case"string":j.a.f.set(e,j.c.options.sa,p),"__ko__hasDomDataOptionValue__"in e&&delete e.__ko__hasDomDataOptionValue__,e.value=t;break;default:j.a.f.set(e,j.c.options.sa,t),e.__ko__hasDomDataOptionValue__=i,e.value="number"==typeof t?t:""}break;case"select":for(var n=e.options.length-1;0<=n;n--)if(j.k.q(e.options[n])==t){e.selectedIndex=n;break}break;default:t!==u&&t!==p||(t=""),e.value=t}}},j.b("selectExtensions",j.k),j.b("selectExtensions.readValue",j.k.q),j.b("selectExtensions.writeValue",j.k.T);var I=/\@ko_token_(\d+)\@/g,$=["true","false"],F=/^(?:[$_a-z][$\w]*|(.+)(\.\s*[$_a-z][$\w]*|\[.+\]))$/i;j.g={Q:[],aa:function(e){var t=j.a.D(e);if(3>t.length)return[];"{"===t.charAt(0)&&(t=t.substring(1,t.length-1)),e=[];for(var n,r=u,a=0;a<t.length;a++){var o=t.charAt(a);if(r===u)switch(o){case'"':case"'":case"/":r=a,n=o}else if(o==n&&"\\"!==t.charAt(a-1)){o=t.substring(r,a+1),e.push(o);var i="@ko_token_"+(e.length-1)+"@",t=t.substring(0,r)+i+t.substring(a+1),a=a-(o.length-i.length),r=u}}n=r=u;for(var s=0,c=u,a=0;a<t.length;a++){if(o=t.charAt(a),r===u)switch(o){case"{":r=a,c=o,n="}";break;case"(":r=a,c=o,n=")";break;case"[":r=a,c=o,n="]"}o===c?s++:o===n&&(s--,0===s&&(o=t.substring(r,a+1),e.push(o),i="@ko_token_"+(e.length-1)+"@",t=t.substring(0,r)+i+t.substring(a+1),a-=o.length-i.length,r=u))}for(n=[],t=t.split(","),r=0,a=t.length;r<a;r++)s=t[r],c=s.indexOf(":"),0<c&&c<s.length-1?(o=s.substring(c+1),n.push({key:O(s.substring(0,c),e),value:O(o,e)})):n.push({unknown:O(s,e)});return n},ba:function(e){var t="string"==typeof e?j.g.aa(e):e,n=[];e=[];for(var r,a=0;r=t[a];a++)if(0<n.length&&n.push(","),r.key){var o;e:{o=r.key;var i=j.a.D(o);switch(i.length&&i.charAt(0)){case"'":case'"':break e;default:o="'"+i+"'"}}r=r.value,n.push(o),n.push(":"),n.push(r),r=j.a.D(r),0<=j.a.i($,j.a.D(r).toLowerCase())?r=s:(i=r.match(F),r=i===u?s:i[1]?"Object("+i[1]+")"+i[2]:r),r&&(0<e.length&&e.push(", "),e.push(o+" : function(__ko_value) { "+r+" = __ko_value; }"))}else r.unknown&&n.push(r.unknown);return t=n.join(""),0<e.length&&(t=t+", '_ko_property_writers' : { "+e.join("")+" } "),t},Eb:function(e,t){for(var n=0;n<e.length;n++)if(j.a.D(e[n].key)==t)return i;return s},ea:function(e,t,n,r,a){e&&j.Ra(e)?(!a||e.t()!==r)&&e(r):(e=t()._ko_property_writers)&&e[n]&&e[n](r)}},j.b("expressionRewriting",j.g),j.b("expressionRewriting.bindingRewriteValidators",j.g.Q),j.b("expressionRewriting.parseObjectLiteral",j.g.aa),j.b("expressionRewriting.preProcessBindings",j.g.ba),j.b("jsonExpressionRewriting",j.g),j.b("jsonExpressionRewriting.insertPropertyAccessorsIntoJson",j.g.ba);var q="<!--test-->"===f.createComment("test").text,P=q?/^\x3c!--\s*ko(?:\s+(.+\s*\:[\s\S]*))?\s*--\x3e$/:/^\s*ko(?:\s+(.+\s*\:[\s\S]*))?\s*$/,L=q?/^\x3c!--\s*\/ko\s*--\x3e$/:/^\s*\/ko\s*$/,z={ul:i,ol:i};j.e={I:{},childNodes:function(e){return T(e)?x(e):e.childNodes},Y:function(e){if(T(e)){e=j.e.childNodes(e);for(var t=0,n=e.length;t<n;t++)j.removeNode(e[t])}else j.a.ka(e)},N:function(e,t){if(T(e)){j.e.Y(e);for(var n=e.nextSibling,r=0,a=t.length;r<a;r++)n.parentNode.insertBefore(t[r],n)}else j.a.N(e,t)},Va:function(e,t){T(e)?e.parentNode.insertBefore(t,e.nextSibling):e.firstChild?e.insertBefore(t,e.firstChild):e.appendChild(t)},Pa:function(e,t,n){n?T(e)?e.parentNode.insertBefore(t,n.nextSibling):n.nextSibling?e.insertBefore(t,n.nextSibling):e.appendChild(t):j.e.Va(e,t)},firstChild:function(e){return T(e)?!e.nextSibling||E(e.nextSibling)?u:e.nextSibling:e.firstChild},nextSibling:function(e){return T(e)&&(e=_(e)),e.nextSibling&&E(e.nextSibling)?u:e.nextSibling},jb:function(e){return(e=T(e))?e[1]:u},Ta:function(e){if(z[j.a.u(e)]){var t=e.firstChild;if(t)do if(1===t.nodeType){var n;n=t.firstChild;var r=u;if(n)do if(r)r.push(n);else if(T(n)){var a=_(n,i);a?n=a:r=[n]}else E(n)&&(r=[n]);while(n=n.nextSibling);if(n=r)for(r=t.nextSibling,a=0;a<n.length;a++)r?e.insertBefore(n[a],r):e.appendChild(n[a])}while(t=t.nextSibling)}}},j.b("virtualElements",j.e),j.b("virtualElements.allowedBindings",j.e.I),j.b("virtualElements.emptyNode",j.e.Y),j.b("virtualElements.insertAfter",j.e.Pa),j.b("virtualElements.prepend",j.e.Va),j.b("virtualElements.setDomNodeChildren",j.e.N),j.J=function(){this.Ha={}},j.a.extend(j.J.prototype,{nodeHasBindings:function(e){switch(e.nodeType){case 1:return e.getAttribute("data-bind")!=u;case 8:return j.e.jb(e)!=u;default:return s}},getBindings:function(e,t){var n=this.getBindingsString(e,t);return n?this.parseBindingsString(n,t,e):u},getBindingsString:function(e){switch(e.nodeType){case 1:return e.getAttribute("data-bind");case 8:return j.e.jb(e);default:return u}},parseBindingsString:function(e,t,n){try{var a;if(!(a=this.Ha[e])){var o,i=this.Ha,u="with($context){with($data||{}){return{"+j.g.ba(e)+"}}}";o=new Function("$context","$element",u),a=i[e]=o}return a(t,n)}catch(t){r(Error("Unable to parse bindings.\nMessage: "+t+";\nBindings value: "+e))}}}),j.J.instance=new j.J,j.b("bindingProvider",j.J),j.c={},j.z=function(e,t,n){t?(j.a.extend(this,t),this.$parentContext=t,this.$parent=t.$data,this.$parents=(t.$parents||[]).slice(0),this.$parents.unshift(this.$parent)):(this.$parents=[],this.$root=e,this.ko=j),this.$data=e,n&&(this[n]=e)},j.z.prototype.createChildContext=function(e,t){return new j.z(e,this,t)},j.z.prototype.extend=function(e){var t=j.a.extend(new j.z,this);return j.a.extend(t,e)},j.eb=function(e,t){return 2!=arguments.length?j.a.f.get(e,"__ko_bindingContext__"):void j.a.f.set(e,"__ko_bindingContext__",t)},j.Fa=function(e,t,n){return 1===e.nodeType&&j.e.Ta(e),y(e,t,n,i)},j.Ea=function(e,t){(1===t.nodeType||8===t.nodeType)&&k(e,t,i)},j.Da=function(e,t){t&&1!==t.nodeType&&8!==t.nodeType&&r(Error("ko.applyBindings: first parameter should be your view model; second parameter should be a DOM node")),t=t||c.document.body,w(e,t,i)},j.ja=function(e){switch(e.nodeType){case 1:case 8:var t=j.eb(e);if(t)return t;if(e.parentNode)return j.ja(e.parentNode)}return p},j.pb=function(e){return(e=j.ja(e))?e.$data:p},j.b("bindingHandlers",j.c),j.b("applyBindings",j.Da),j.b("applyBindingsToDescendants",j.Ea),j.b("applyBindingsToNode",j.Fa),j.b("contextFor",j.ja),j.b("dataFor",j.pb);var H={class:"className",for:"htmlFor"};j.c.attr={update:function(e,t){var n,r=j.a.d(t())||{};for(n in r)if("string"==typeof n){var a=j.a.d(r[n]),o=a===s||a===u||a===p;o&&e.removeAttribute(n),8>=j.a.Z&&n in H?(n=H[n],o?e.removeAttribute(n):e[n]=a):o||e.setAttribute(n,a.toString()),"name"===n&&j.a.ab(e,o?"":a.toString())}}},j.c.checked={init:function(e,t,n){j.a.n(e,"click",function(){var r;if("checkbox"==e.type)r=e.checked;else{if("radio"!=e.type||!e.checked)return;r=e.value}var a=t(),o=j.a.d(a);"checkbox"==e.type&&o instanceof Array?(r=j.a.i(o,e.value),e.checked&&0>r?a.push(e.value):!e.checked&&0<=r&&a.splice(r,1)):j.g.ea(a,n,"checked",r,i)}),"radio"==e.type&&!e.name&&j.c.uniqueName.init(e,a(i))},update:function(e,t){var n=j.a.d(t());"checkbox"==e.type?e.checked=n instanceof Array?0<=j.a.i(n,e.value):n:"radio"==e.type&&(e.checked=e.value==n)}},j.c.css={update:function(e,t){var n=j.a.d(t());if("object"==typeof n)for(var r in n){var a=j.a.d(n[r]);j.a.da(e,r,a)}else n=String(n||""),j.a.da(e,e.__ko__cssValue,s),e.__ko__cssValue=n,j.a.da(e,n,i)}},j.c.enable={update:function(e,t){var n=j.a.d(t());n&&e.disabled?e.removeAttribute("disabled"):!n&&!e.disabled&&(e.disabled=i)}},j.c.disable={update:function(e,t){j.c.enable.update(e,function(){return!j.a.d(t())})}},j.c.event={init:function(e,t,n,r){var a,o=t()||{};for(a in o)(function(){var o=a;"string"==typeof o&&j.a.n(e,o,function(e){var a,u=t()[o];if(u){var c=n();try{var f=j.a.L(arguments);f.unshift(r),a=u.apply(r,f)}finally{a!==i&&(e.preventDefault?e.preventDefault():e.returnValue=s)}c[o+"Bubble"]===s&&(e.cancelBubble=i,e.stopPropagation&&e.stopPropagation())}})})()}},j.c.foreach={Sa:function(e){return function(){var t=e(),n=j.a.ua(t);return n&&"number"!=typeof n.length?(j.a.d(t),{foreach:n.data,as:n.as,includeDestroyed:n.includeDestroyed,afterAdd:n.afterAdd,beforeRemove:n.beforeRemove,afterRender:n.afterRender,beforeMove:n.beforeMove,afterMove:n.afterMove,templateEngine:j.C.oa}):{foreach:t,templateEngine:j.C.oa}}},init:function(e,t){return j.c.template.init(e,j.c.foreach.Sa(t))},update:function(e,t,n,r,a){return j.c.template.update(e,j.c.foreach.Sa(t),n,r,a)}},j.g.Q.foreach=s,j.e.I.foreach=i,j.c.hasfocus={init:function(e,t,n){function r(r){e.__ko_hasfocusUpdating=i;var a=e.ownerDocument;"activeElement"in a&&(r=a.activeElement===e),a=t(),j.g.ea(a,n,"hasfocus",r,i),e.__ko_hasfocusUpdating=s}var a=r.bind(u,i),o=r.bind(u,s);j.a.n(e,"focus",a),j.a.n(e,"focusin",a),j.a.n(e,"blur",o),j.a.n(e,"focusout",o)},update:function(e,t){var n=j.a.d(t());e.__ko_hasfocusUpdating||(n?e.focus():e.blur(),j.r.K(j.a.Ba,u,[e,n?"focusin":"focusout"]))}},j.c.html={init:function(){return{controlsDescendantBindings:i}},update:function(e,t){j.a.ca(e,t())}};var V="__ko_withIfBindingData";D("if"),D("ifnot",s,i),D("with",i,s,function(e,t){return e.createChildContext(t)}),j.c.options={update:function(e,t,n){"select"!==j.a.u(e)&&r(Error("options binding applies only to SELECT elements"));for(var a=0==e.length,o=j.a.V(j.a.fa(e.childNodes,function(e){return e.tagName&&"option"===j.a.u(e)&&e.selected}),function(e){return j.k.q(e)||e.innerText||e.textContent}),u=e.scrollTop,s=j.a.d(t());0<e.length;)j.A(e.options[0]),e.remove(0);if(s){n=n();var c=n.optionsIncludeDestroyed;if("number"!=typeof s.length&&(s=[s]),n.optionsCaption){var l=f.createElement("option");j.a.ca(l,n.optionsCaption),j.k.T(l,p),e.appendChild(l)}t=0;for(var d=s.length;t<d;t++){var h=s[t];if(!h||!h._destroy||c){var l=f.createElement("option"),v=function(e,t,n){var r=typeof t;return"function"==r?t(e):"string"==r?e[t]:n},b=v(h,n.optionsValue,h);j.k.T(l,j.a.d(b)),h=v(h,n.optionsText,b),j.a.cb(l,h),e.appendChild(l)}}for(s=e.getElementsByTagName("option"),t=c=0,d=s.length;t<d;t++)0<=j.a.i(o,j.k.q(s[t]))&&(j.a.bb(s[t],i),c++);e.scrollTop=u,a&&"value"in n&&A(e,j.a.ua(n.value),i),j.a.ub(e)}}},j.c.options.sa="__ko.optionValueDomData__",j.c.selectedOptions={init:function(e,t,n){j.a.n(e,"change",function(){var r=t(),a=[];j.a.o(e.getElementsByTagName("option"),function(e){e.selected&&a.push(j.k.q(e))}),j.g.ea(r,n,"value",a)})},update:function(e,t){"select"!=j.a.u(e)&&r(Error("values binding applies only to SELECT elements"));var n=j.a.d(t());n&&"number"==typeof n.length&&j.a.o(e.getElementsByTagName("option"),function(e){var t=0<=j.a.i(n,j.k.q(e));j.a.bb(e,t)})}},j.c.style={update:function(e,t){var n,r=j.a.d(t()||{});for(n in r)if("string"==typeof n){var a=j.a.d(r[n]);e.style[n]=a||""}}},j.c.submit={init:function(e,t,n,a){"function"!=typeof t()&&r(Error("The value for a submit binding must be a function")),j.a.n(e,"submit",function(n){var r,o=t();try{r=o.call(a,e)}finally{r!==i&&(n.preventDefault?n.preventDefault():n.returnValue=s)}})}},j.c.text={update:function(e,t){j.a.cb(e,t())}},j.e.I.text=i,j.c.uniqueName={init:function(e,t){if(t()){var n="ko_unique_"+ ++j.c.uniqueName.ob;j.a.ab(e,n)}}},j.c.uniqueName.ob=0,j.c.value={init:function(e,t,n){function r(){u=s;var r=t(),a=j.k.q(e);j.g.ea(r,n,"value",a)}var a=["change"],o=n().valueUpdate,u=s;o&&("string"==typeof o&&(o=[o]),j.a.P(a,o),a=j.a.Ga(a)),!j.a.Z||"input"!=e.tagName.toLowerCase()||"text"!=e.type||"off"==e.autocomplete||e.form&&"off"==e.form.autocomplete||-1!=j.a.i(a,"propertychange")||(j.a.n(e,"propertychange",function(){u=i}),j.a.n(e,"blur",function(){u&&r()})),j.a.o(a,function(t){var n=r;j.a.Ob(t,"after")&&(n=function(){setTimeout(r,0)},t=t.substring(5)),j.a.n(e,t,n)})},update:function(e,t){var n="select"===j.a.u(e),r=j.a.d(t()),a=j.k.q(e),o=r!=a;0===r&&0!==a&&"0"!==a&&(o=i),o&&(a=function(){j.k.T(e,r)},a(),n&&setTimeout(a,0)),n&&0<e.length&&A(e,r,s)}},j.c.visible={update:function(e,t){var n=j.a.d(t()),r="none"!=e.style.display;n&&!r?e.style.display="":!n&&r&&(e.style.display="none")}},j.c.click={init:function(e,t,n,r){return j.c.event.init.call(this,e,function(){var e={};return e.click=t(),e},n,r)}},j.v=function(){},j.v.prototype.renderTemplateSource=function(){r(Error("Override renderTemplateSource"))},j.v.prototype.createJavaScriptEvaluatorBlock=function(){r(Error("Override createJavaScriptEvaluatorBlock"))},j.v.prototype.makeTemplateSource=function(e,t){if("string"==typeof e){t=t||f;var n=t.getElementById(e);return n||r(Error("Cannot find template with ID "+e)),new j.l.h(n)}return 1==e.nodeType||8==e.nodeType?new j.l.O(e):void r(Error("Unknown template type: "+e))},j.v.prototype.renderTemplate=function(e,t,n,r){return e=this.makeTemplateSource(e,r),this.renderTemplateSource(e,t,n)},j.v.prototype.isTemplateRewritten=function(e,t){return this.allowTemplateRewriting===s?i:this.makeTemplateSource(e,t).data("isRewritten")},j.v.prototype.rewriteTemplate=function(e,t,n){e=this.makeTemplateSource(e,n),t=t(e.text()),e.text(t),e.data("isRewritten",i)},j.b("templateEngine",j.v);var W=/(<[a-z]+\d*(\s+(?!data-bind=)[a-z0-9\-]+(=(\"[^\"]*\"|\'[^\']*\'))?)*\s+)data-bind=(["'])([\s\S]*?)\5/gi,U=/\x3c!--\s*ko\b\s*([\s\S]*?)\s*--\x3e/g;j.za={vb:function(e,t,n){t.isTemplateRewritten(e,n)||t.rewriteTemplate(e,function(e){return j.za.Gb(e,t)},n)},Gb:function(e,t){return e.replace(W,function(e,n,r,a,o,i,u){return m(u,n,t)}).replace(U,function(e,n){return m(n,"<!-- ko -->",t)})},kb:function(e){return j.s.ra(function(t,n){t.nextSibling&&j.Fa(t.nextSibling,e,n)})}},j.b("__tr_ambtns",j.za.kb),j.l={},j.l.h=function(e){this.h=e},j.l.h.prototype.text=function(){var e=j.a.u(this.h),e="script"===e?"text":"textarea"===e?"value":"innerHTML";if(0==arguments.length)return this.h[e];var t=arguments[0];"innerHTML"===e?j.a.ca(this.h,t):this.h[e]=t},j.l.h.prototype.data=function(e){return 1===arguments.length?j.a.f.get(this.h,"templateSourceData_"+e):void j.a.f.set(this.h,"templateSourceData_"+e,arguments[1])},j.l.O=function(e){this.h=e},j.l.O.prototype=new j.l.h,j.l.O.prototype.text=function(){if(0==arguments.length){var e=j.a.f.get(this.h,"__ko_anon_template__")||{};return e.Aa===p&&e.ia&&(e.Aa=e.ia.innerHTML),e.Aa}j.a.f.set(this.h,"__ko_anon_template__",{Aa:arguments[0]})},j.l.h.prototype.nodes=function(){return 0==arguments.length?(j.a.f.get(this.h,"__ko_anon_template__")||{}).ia:void j.a.f.set(this.h,"__ko_anon_template__",{ia:arguments[0]})},j.b("templateSources",j.l),j.b("templateSources.domElement",j.l.h),j.b("templateSources.anonymousTemplate",j.l.O);var G;j.wa=function(e){e!=p&&!(e instanceof j.v)&&r(Error("templateEngine must inherit from ko.templateEngine")),G=e},j.va=function(e,t,n,a,o){if(n=n||{},(n.templateEngine||G)==p&&r(Error("Set a template engine before calling renderTemplate")),o=o||"replaceChildren",a){var i=v(a);return j.j(function(){var r=t&&t instanceof j.z?t:new j.z(j.a.d(t)),u="function"==typeof e?e(r.$data,r):e,r=h(a,o,u,r,n);"replaceNode"==o&&(a=r,i=v(a))},u,{Ka:function(){return!i||!j.a.X(i)},W:i&&"replaceNode"==o?i.parentNode:i})}return j.s.ra(function(r){j.va(e,t,n,r,"replaceNode")})},j.Mb=function(e,t,n,r,a){function o(e,t){b(t,s),n.afterRender&&n.afterRender(t,e)}function i(t,r){s=a.createChildContext(j.a.d(t),n.as),s.$index=r;var o="function"==typeof e?e(t,s):e;return h(u,"ignoreTargetNode",o,s,n)}var s;return j.j(function(){var e=j.a.d(t)||[];"undefined"==typeof e.length&&(e=[e]),e=j.a.fa(e,function(e){return n.includeDestroyed||e===p||e===u||!j.a.d(e._destroy)}),j.r.K(j.a.$a,u,[r,e,i,n,o])},u,{W:r})},j.c.template={init:function(e,t){var n=j.a.d(t());return"string"==typeof n||n.name||1!=e.nodeType&&8!=e.nodeType||(n=1==e.nodeType?e.childNodes:j.e.childNodes(e),n=j.a.Hb(n),new j.l.O(e).nodes(n)),{controlsDescendantBindings:i}},update:function(e,t,n,r,a){t=j.a.d(t()),n={},r=i;var o,s=u;"string"!=typeof t&&(n=t,t=n.name,"if"in n&&(r=j.a.d(n.if)),r&&"ifnot"in n&&(r=!j.a.d(n.ifnot)),o=j.a.d(n.data)),"foreach"in n?s=j.Mb(t||e,r&&n.foreach||[],n,e,a):r?(a="data"in n?a.createChildContext(o,n.as):a,s=j.va(t||e,a,n,e)):j.e.Y(e),a=s,(o=j.a.f.get(e,"__ko__templateComputedDomDataKey__"))&&"function"==typeof o.B&&o.B(),j.a.f.set(e,"__ko__templateComputedDomDataKey__",a&&a.pa()?a:p)}},j.g.Q.template=function(e){return e=j.g.aa(e),1==e.length&&e[0].unknown||j.g.Eb(e,"name")?u:"This template engine does not support anonymous templates nested within its templates"},j.e.I.template=i,j.b("setTemplateEngine",j.wa),j.b("renderTemplate",j.va),j.a.Ja=function(e,t,n){return e=e||[],t=t||[],e.length<=t.length?o(e,t,"added","deleted",n):o(t,e,"deleted","added",n)},j.b("utils.compareArrays",j.a.Ja),j.a.$a=function(e,r,a,o,u){function s(e,t){w=l[t],g!==t&&(x[e]=w),w.na(g++),n(w.M),v.push(w),y.push(w)}function c(e,t){if(e)for(var n=0,r=t.length;n<r;n++)t[n]&&j.a.o(t[n].M,function(r){e(r,n,t[n].U)})}r=r||[],o=o||{};var f=j.a.f.get(e,"setDomNodeChildrenFromArrayMapping_lastMappingResult")===p,l=j.a.f.get(e,"setDomNodeChildrenFromArrayMapping_lastMappingResult")||[],d=j.a.V(l,function(e){return e.U}),h=j.a.Ja(d,r),v=[],b=0,g=0,m=[],y=[];r=[];for(var w,k,_,x=[],d=[],E=0;k=h[E];E++)switch(_=k.moved,k.status){case"deleted":_===p&&(w=l[b],w.j&&w.j.B(),m.push.apply(m,n(w.M)),o.beforeRemove&&(r[E]=w,y.push(w))),b++;break;case"retained":s(E,b++);break;case"added":_!==p?s(E,_):(w={U:k.value,na:j.m(g++)},v.push(w),y.push(w),f||(d[E]=w))}c(o.beforeMove,x),j.a.o(m,o.beforeRemove?j.A:j.removeNode);for(var T,E=0,f=j.e.firstChild(e);w=y[E];E++){for(w.M||j.a.extend(w,t(e,a,w.U,u,w.na)),b=0;h=w.M[b];f=h.nextSibling,T=h,b++)h!==f&&j.e.Pa(e,h,T);!w.Ab&&u&&(u(w.U,w.M,w.na),w.Ab=i)}c(o.beforeRemove,r),c(o.afterMove,x),c(o.afterAdd,d),j.a.f.set(e,"setDomNodeChildrenFromArrayMapping_lastMappingResult",v)},j.b("utils.setDomNodeChildrenFromArrayMapping",j.a.$a),j.C=function(){this.allowTemplateRewriting=s},j.C.prototype=new j.v,j.C.prototype.renderTemplateSource=function(e){var t=9>j.a.Z||!e.nodes?u:e.nodes();return t?j.a.L(t.cloneNode(i).childNodes):(e=e.text(),j.a.ta(e))},j.C.oa=new j.C,j.wa(j.C.oa),j.b("nativeTemplateEngine",j.C),j.qa=function(){var e=this.Db=function(){if("undefined"==typeof d||!d.tmpl)return 0;try{if(0<=d.tmpl.tag.tmpl.open.toString().indexOf("__"))return 2}catch(e){}return 1}();this.renderTemplateSource=function(t,n,a){a=a||{},2>e&&r(Error("Your version of jQuery.tmpl is too old. Please upgrade to jQuery.tmpl 1.0.0pre or later."));var o=t.data("precompiled");return o||(o=t.text()||"",o=d.template(u,"{{ko_with $item.koBindingContext}}"+o+"{{/ko_with}}"),t.data("precompiled",o)),t=[n.$data],n=d.extend({koBindingContext:n},a.templateOptions),n=d.tmpl(o,t,n),n.appendTo(f.createElement("div")),d.fragments={},n},this.createJavaScriptEvaluatorBlock=function(e){return"{{ko_code ((function() { return "+e+" })()) }}"},this.addTemplate=function(e,t){f.write("<script type='text/html' id='"+e+"'>"+t+"</script>")},0<e&&(d.tmpl.tag.ko_code={open:"__.push($1 || '');"},d.tmpl.tag.ko_with={open:"with($1) {",close:"} "})},j.qa.prototype=new j.v,e=new j.qa,0<e.Db&&j.wa(e),j.b("jqueryTmplTemplateEngine",j.qa)}var i=!0,u=null,s=!1,c=window,f=document,l=navigator,d=window.jQuery,p=void 0;"function"==typeof e&&"object"==typeof n&&"object"==typeof t?o(t.exports||n):"function"==typeof define&&define.amd?define(["exports"],o):o(c.ko={})}()},{}]},{},[1]);
