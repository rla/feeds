!function(e){function t(t){for(var n,u,s=t[0],i=t[1],d=t[2],o=0,f=[];o<s.length;o++)u=s[o],r[u]&&f.push(r[u][0]),r[u]=0;for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n]);for(c&&c(t);f.length;)f.shift()();return l.push.apply(l,d||[]),a()}function a(){for(var e,t=0;t<l.length;t++){for(var a=l[t],n=!0,s=1;s<a.length;s++){var i=a[s];0!==r[i]&&(n=!1)}n&&(l.splice(t--,1),e=u(u.s=a[0]))}return e}var n={},r={0:0},l=[];function u(t){if(n[t])return n[t].exports;var a=n[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,u),a.l=!0,a.exports}u.m=e,u.c=n,u.d=function(e,t,a){u.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},u.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},u.t=function(e,t){if(1&t&&(e=u(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(u.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)u.d(a,n,function(t){return e[t]}.bind(null,n));return a},u.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return u.d(t,"a",t),t},u.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},u.p="";var s=window.webpackJsonp=window.webpackJsonp||[],i=s.push.bind(s);s.push=t,s=s.slice();for(var d=0;d<s.length;d++)t(s[d]);var c=i;l.push([22,1]),a()}([,,,,function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AUTH_SUCCESSFUL="AUTH_SUCCESSFUL",t.AUTH_LOGGED_OUT="AUTH_LOGGED_OUT",t.login=(()=>async(e,a,n)=>{const r=a();await n.login(r.login.user,r.login.pass)&&await e(t.authSuccessful())}),t.logout=(()=>async(e,t,a)=>{await a.logout(),await e(n())}),t.authSuccessful=(()=>({type:t.AUTH_SUCCESSFUL}));const n=()=>({type:t.AUTH_LOGGED_OUT})},,function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.INVALID_LOADED="INVALID_LOADED",t.INVALID_FEED_RESOLVED="INVALID_FEED_RESOLVED",t.INVALID_INITIAL="INVALID_INITIAL",t.loadInitial=(()=>async e=>{await e(l()),await e(t.load())}),t.load=(()=>async(e,t,a)=>{const n=t(),l=await a.invalid(n.invalid.start,a.BATCH);await e(r(l))}),t.deleteFeed=(e=>async(a,n,r)=>{await r.deleteFeed(e),await a(t.loadInitial())}),t.resolveFeed=(e=>async(t,a,r)=>{await r.resolveFeed(e),await t(n(e))});const n=e=>({type:t.INVALID_FEED_RESOLVED,feedId:e}),r=e=>({type:t.INVALID_LOADED,feeds:e}),l=()=>({type:t.INVALID_INITIAL})},function(e,t,a){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=n(a(0)),l=n(a(38));t.default=(e=>{const t={btn:!0,"btn-small":!0,"btn-danger":!!e.danger,"btn-inverse":!!e.inverse,disabled:!!e.disabled},a=e.href||"#";return r.default.createElement("a",{href:a,onClick:(e=>t=>{"function"==typeof e&&(t.preventDefault(),e())})(e.onClick),className:l.default(t)},e.children)})},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FEEDS_LOADED="FEEDS_LOADED",t.FEEDS_FEED_DELETED="FEEDS_FEED_DELETED",t.FEEDS_INITIAL="FEEDS_INITIAL",t.FEEDS_FEED_MARKED_SEEN="FEEDS_FEED_MARKED_SEEN",t.FEEDS_FEED_MARKED_READ="FEEDS_FEED_MARKED_READ",t.loadInitial=(()=>async e=>{await e(s()),await e(t.load())}),t.load=(()=>async(e,t,a)=>{const r=t(),l=await a.feeds(r.feeds.start,a.BATCH);await e(n(l))}),t.deleteFeed=(e=>async(t,a,n)=>{await n.deleteFeed(e),await t(r(e))}),t.markSeen=(e=>async(t,a,n)=>{await n.seenFeed(e),await t(l(e))}),t.markRead=(e=>async(t,a,n)=>{await n.readFeed(e),await t(u(e))});const n=e=>({type:t.FEEDS_LOADED,feeds:e}),r=e=>({type:t.FEEDS_FEED_DELETED,feedId:e}),l=e=>({type:t.FEEDS_FEED_MARKED_SEEN,feedId:e}),u=e=>({type:t.FEEDS_FEED_MARKED_READ,feedId:e}),s=()=>({type:t.FEEDS_INITIAL})},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ARTICLES_LOADED="ARTICLES_LOADED",t.ARTICLES_INITIAL="ARTICLES_INITIAL",t.ARTICLES_TOGGLE_READ="ARTICLES_TOGGLE_READ",t.ARTICLES_MARK_READ="ARTICLES_MARK_READ",t.ARTICLES_TOGGLE_IMPORTANT="ARTICLES_TOGGLE_IMPORTANT",t.ARTICLES_MARK_SEEN="ARTICLES_MARK_SEEN",t.loadInitial=(e=>async a=>{await a(n(e)),await a(t.load())}),t.load=(()=>async(e,t,a)=>{const n=t(),l=n.articles.source;if("search"===l){if(""!==n.search.query){const t=`search/${encodeURIComponent(n.search.query)}`,l=await a.articles(t,n.articles.rowid,a.BATCH);await e(r(l))}}else if("feed"===l){const t=n.route.args;if(t){const l=t[0];if(l){const t=`feed/${l}`,u=await a.articles(t,n.articles.rowid,a.BATCH);await e(r(u))}}}else{const t=await a.articles(l,n.articles.rowid,a.BATCH);await e(r(t))}}),t.deleteFeed=(e=>async(a,n,r)=>{const l=n(),u=l.articles.items.find(t=>t.uuid===e);u&&(await r.deleteFeed(u.feed),await a(t.loadInitial(l.articles.source)))}),t.markRead=(e=>async(a,n,r)=>{await a({type:t.ARTICLES_TOGGLE_READ,articleId:e});const l=n().articles.items.find(t=>t.uuid===e);l&&(l.is_read?await r.markRead(e):await r.markUnread(e))}),t.markImportant=(e=>async(a,n,r)=>{await a({type:t.ARTICLES_TOGGLE_IMPORTANT,articleId:e});const l=n().articles.items.find(t=>t.uuid===e);l&&(l.is_important?await r.markImportant(e):await r.markUnimportant(e))}),t.markSeen=(e=>async(a,n,r)=>{const l=n(),u=l.articles.items.findIndex(t=>t.uuid===e);if(u>=0){const n=l.articles.items.slice(0,u+1).filter(e=>0===e.is_seen).map(e=>e.uuid);await a({type:t.ARTICLES_MARK_SEEN,articleId:e}),await r.markSeen(n)}}),t.read=(e=>async(a,n,r)=>{await a({type:t.ARTICLES_MARK_READ,articleId:e}),n().auth.authenticated&&await r.markRead(e)});const n=e=>({type:t.ARTICLES_INITIAL,source:e}),r=e=>({type:t.ARTICLES_LOADED,articles:e})},function(e,t,a){"use strict";var n=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});const r=n(a(6)),l=n(a(8)),u=n(a(9));t.ROUTE_VIEW="ROUTE_VIEW",t.routeView=((e,a)=>async n=>{n({type:t.ROUTE_VIEW,view:e,args:a}),"invalid"===e?await n(r.loadInitial()):"feeds"===e?await n(l.loadInitial()):"results"===e?await n(u.loadInitial("search")):"feed"===e?await n(u.loadInitial("feed")):"unseen"===e?await n(u.loadInitial("unseen")):"important"===e&&await n(u.loadInitial("important"))}),t.routeScroll=(()=>async(e,t)=>{const a=t();"invalid"===a.route.view?await e(r.load()):"feeds"===a.route.view?await e(l.load()):"results"===a.route.view?await e(u.load()):"feed"===a.route.view?await e(u.load()):"unseen"===a.route.view?await e(u.load()):"important"===a.route.view&&await e(u.load())})},,,,,,function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=a(4);t.LOGIN_SET_USERNAME="LOGIN_SET_USERNAME",t.LOGIN_SET_PASSWORD="LOGIN_SET_PASSWORD",t.submit=(()=>async e=>{await e(n.login())}),t.setUser=(e=>({type:t.LOGIN_SET_USERNAME,user:e})),t.setPass=(e=>({type:t.LOGIN_SET_PASSWORD,pass:e}))},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=a(10);t.SEARCH_SET_QUERY="SEARCH_SET_QUERY",t.submit=(()=>async e=>{await e(n.routeView("results"))}),t.setQuery=(e=>({type:t.SEARCH_SET_QUERY,query:e}))},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.URLS_SET_TEXT="URLS_SET_TEXT",t.submit=(()=>async(e,a,n)=>{const r=a().urls.text.split(/\r?\n/).map(e=>e.trim()).filter(e=>e.length>0);await e({type:t.URLS_SET_TEXT,text:""}),await n.addUrls(r)}),t.setText=(e=>({type:t.URLS_SET_TEXT,text:e}))},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SPINNER_SHOW="SPINNER_SHOW",t.SPINNER_HIDE="SPINNER_HIDE",t.showSpinner=(()=>({type:t.SPINNER_SHOW})),t.hideSpinner=(()=>({type:t.SPINNER_HIDE}))},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=[];let r=0;t.addHandler=(e=>{n.push(e)});const l=e=>{for(const t of n)t(e)},u=async(e,t)=>{try{1===(r+=1)&&l(!0);const a=await fetch(e,t),n=await a.json();return(e=>{if(e.error)throw new Error(`API response error: ${e.data}.`)})(n),n.data}catch(e){return(e=>{throw alert(`API call failed. ${e}`),e})(e),{}}finally{0==(r-=1)&&l(!1)}},s=e=>({headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),i=async e=>u(e),d=async(e,t)=>u(e,Object.assign({method:"POST",credentials:"include"},s(t))),c=async(e,t)=>u(e,Object.assign({method:"PUT",credentials:"include"},s(t)));t.articles=(async(e,t,a)=>{return(await i(`/${e}/${t}/${a}`)).map(e=>{return Object.assign({},e,{date:new Date(1e3*e.published)})})}),t.invalid=(async(e,t)=>i(`/invalid/${e}/${t}`)),t.feeds=(async(e,t)=>i(`/feeds/${e}/${t}`)),t.deleteFeed=(async e=>(async e=>{await u(e,{method:"DELETE",credentials:"include"})})(`/feed/${e}`)),t.markRead=(async e=>{await c(`/article/${e}/read`)}),t.markUnread=(async e=>{await c(`/article/${e}/unread`)}),t.markImportant=(async e=>{await c(`/article/${e}/important`)}),t.markUnimportant=(async e=>{await c(`/article/${e}/unimportant`)}),t.markSeen=(async e=>{await c("/seen",e)}),t.seenFeed=(async e=>{await c(`/feed/${e}/seen`)}),t.readFeed=(async e=>{await c(`/feed/${e}/read`)}),t.resolveFeed=(async e=>{await c(`/feed/${e}/resolve`)}),t.addUrls=(async e=>{await d("/urls",e)}),t.login=(async(e,t)=>{const a={user:e,pass:t};return(await d("/login",a)).ok}),t.logout=(async()=>{await d("/logout")}),t.BATCH=30,t.api={articles:t.articles,invalid:t.invalid,feeds:t.feeds,deleteFeed:t.deleteFeed,markRead:t.markRead,markUnread:t.markUnread,markImportant:t.markImportant,markUnimportant:t.markUnimportant,markSeen:t.markSeen,seenFeed:t.seenFeed,readFeed:t.readFeed,resolveFeed:t.resolveFeed,addUrls:t.addUrls,login:t.login,logout:t.logout,BATCH:t.BATCH}},,function(e,t,a){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});const l=n(a(0)),u=n(a(24)),s=a(1),i=n(a(32)),d=n(a(53)),c=r(a(65)),o=r(a(66)),f=r(a(20)),_=a(10),E=a(19),m=a(4),p=d.default.dispatch;window.loggedIn&&p(m.authSuccessful()),o.addHandler(()=>p(_.routeScroll())),f.addHandler(e=>p(e?E.showSpinner():E.hideSpinner())),c.route(/^important/,()=>p(_.routeView("important"))),c.route(/^unseen/,()=>p(_.routeView("unseen"))),c.route(/^invalid/,()=>p(_.routeView("invalid"))),c.route(/^feeds/,()=>p(_.routeView("feeds"))),c.route(/^search/,()=>p(_.routeView("search"))),c.route(/^feed\/([A-Za-z0-9\-]+)/,e=>p(_.routeView("feed",[e]))),c.route(/.*/,()=>c.go("unseen")),u.default.render(l.default.createElement(s.Provider,{store:d.default},l.default.createElement(i.default,null)),document.getElementById("root"))},,,,,,,,,,function(e,t,a){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=a(1),l=a(33),u=a(4),s=n(a(34)),i=r.connect(e=>({display:l.viewToDisplay(e.route.view),spinner:e.spinner.show,authenticated:e.auth.authenticated}),()=>({logout:u.logout}))(s.default);t.default=i},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n={feeds:"feeds",invalid:"invalid",search:"search",results:"articles",feed:"articles",unseen:"articles",important:"articles"};t.viewToDisplay=(e=>{if(null===e)return null;return n[e]||null})},function(e,t,a){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=n(a(0)),l=n(a(35)),u=n(a(39)),s=n(a(41)),i=n(a(44)),d=n(a(47)),c=n(a(49)),o=n(a(51)),f=n(a(52));t.default=(e=>r.default.createElement("div",null,r.default.createElement(o.default,{show:e.spinner}),r.default.createElement(f.default,{logout:e.logout,authenticated:e.authenticated}),!e.authenticated&&"search"!==e.display&&r.default.createElement(u.default,null),(e=>{switch(e.display){case"invalid":return r.default.createElement(l.default,null);case"feeds":return r.default.createElement("div",null,e.authenticated&&r.default.createElement(c.default,null),r.default.createElement(s.default,null));case"articles":return r.default.createElement(i.default,null);case"search":return r.default.createElement(d.default,null);default:return null}})(e)))},function(e,t,a){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=a(1),l=a(6),u=n(a(36)),s=r.connect(e=>({authenticated:e.auth.authenticated,items:e.invalid.items}),e=>({deleteFeed:t=>e(l.deleteFeed(t)),resolveFeed:t=>e(l.resolveFeed(t))}))(u.default);t.default=s},function(e,t,a){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=n(a(0)),l=n(a(37));t.default=(e=>r.default.createElement("div",null,e.items.map(t=>r.default.createElement(l.default,{item:t,key:t.uuid,authenticated:e.authenticated,deleteFeed:e.deleteFeed,resolveFeed:e.resolveFeed}))))},function(e,t,a){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=n(a(0)),l=n(a(7));t.default=(e=>{const t=e.authenticated,a=e.item;return r.default.createElement("div",{className:"well well-small"},r.default.createElement("strong",null,a.title),r.default.createElement("br",null),"Error: ",a.error,r.default.createElement("div",{className:"buttons"},r.default.createElement(l.default,{disabled:!t,onClick:()=>e.deleteFeed(a.uuid)},"Delete"),r.default.createElement(l.default,{disabled:!t,onClick:()=>e.resolveFeed(a.uuid)},"Resolve"),r.default.createElement(l.default,{href:`#feed/${a.uuid}`},"View")))})},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=(e=>Object.keys(e).filter(t=>e[t]).join(" "))},function(e,t,a){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=a(1),l=a(16),u=n(a(40)),s=r.connect(e=>({user:e.login.user,pass:e.login.pass}),e=>({setUser:t=>e(l.setUser(t)),setPass:t=>e(l.setPass(t)),submit:()=>e(l.submit())}))(u.default);t.default=s},function(e,t,a){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=n(a(0));t.default=(e=>{return r.default.createElement("form",{className:"form-inline",onSubmit:t=>{t.preventDefault(),e.submit()}},r.default.createElement("input",{type:"text",name:"user",placeholder:"user",className:"input-small",value:e.user,onChange:t=>{e.setUser(t.target.value)}}),r.default.createElement("input",{type:"password",name:"pass",placeholder:"pass",className:"input-small",value:e.pass,onChange:t=>{e.setPass(t.target.value)}}),r.default.createElement("button",{type:"submit",className:"btn"},"Login"))})},function(e,t,a){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=a(1),l=a(8),u=n(a(42)),s=r.connect(e=>({authenticated:e.auth.authenticated,items:e.feeds.items}),e=>({deleteFeed:t=>e(l.deleteFeed(t)),allSeen:t=>e(l.markSeen(t)),allRead:t=>e(l.markRead(t))}))(u.default);t.default=s},function(e,t,a){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=n(a(0)),l=n(a(43));t.default=(e=>r.default.createElement("div",null,e.items.map(t=>r.default.createElement(l.default,{item:t,key:t.uuid,authenticated:e.authenticated,allRead:e.allRead,allSeen:e.allSeen,deleteFeed:e.deleteFeed}))))},function(e,t,a){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=n(a(0)),l=n(a(7));t.default=(e=>{const t=e.item,a=e.authenticated;return r.default.createElement("div",{className:"well well-small"},r.default.createElement("strong",null,t.title),r.default.createElement("br",null),t.unread," unread,",t.unseen," unseen,",t.important," important",r.default.createElement("div",{className:"buttons"},r.default.createElement(l.default,{disabled:!a,onClick:()=>e.deleteFeed(t.uuid)},"Delete"),r.default.createElement(l.default,{disabled:!a,onClick:()=>e.allSeen(t.uuid)},"All seen"),r.default.createElement(l.default,{disabled:!a,onClick:()=>e.allRead(t.uuid)},"All read"),r.default.createElement(l.default,{href:`#feed/${t.uuid}`},"View")))})},function(e,t,a){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=a(1),l=a(9),u=n(a(45)),s=r.connect(e=>({authenticated:e.auth.authenticated,items:e.articles.items}),e=>({deleteFeed:t=>e(l.deleteFeed(t)),markRead:t=>e(l.markRead(t)),markImportant:t=>e(l.markImportant(t)),markSeen:t=>e(l.markSeen(t)),read:t=>e(l.read(t))}))(u.default);t.default=s},function(e,t,a){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=n(a(0)),l=n(a(46));t.default=(e=>r.default.createElement("div",null,e.items.map(t=>r.default.createElement(l.default,{item:t,key:t.uuid,authenticated:e.authenticated,deleteFeed:e.deleteFeed,markImportant:e.markImportant,markRead:e.markRead,markSeen:e.markSeen,read:e.read}))))},function(e,t,a){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=n(a(0)),l=n(a(7));t.default=(e=>{const t=e.authenticated,a=e.item,n=a.date.toISOString().substring(0,10);return r.default.createElement("div",{className:"well well-small"},r.default.createElement("strong",null,a.title),r.default.createElement("br",null),"Published ",n," in ",r.default.createElement("a",{href:`#feed/${a.feed}`},a.feed_title),r.default.createElement("div",{className:"buttons"},r.default.createElement(l.default,{disabled:!t,onClick:()=>{e.authenticated&&confirm(`Delete the feed ${e.item.feed_title}?`)&&e.deleteFeed(e.item.uuid)}},"Delete feed"),r.default.createElement(l.default,{disabled:!t,inverse:!!a.is_read,onClick:()=>e.markRead(a.uuid)},"Mark read"),r.default.createElement(l.default,{disabled:!t,danger:!!a.is_important,onClick:()=>e.markImportant(a.uuid)},"Important"),r.default.createElement(l.default,{disabled:!t,inverse:!!a.is_seen,onClick:()=>e.markSeen(a.uuid)},"Seen"),r.default.createElement(l.default,{inverse:!!a.is_read,onClick:()=>{e.read(e.item.uuid);const t=window.open(e.item.link,"_blank");t&&t.focus()}},"Read")))})},function(e,t,a){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=a(1),l=a(17),u=n(a(48)),s=r.connect(e=>({query:e.search.query}),e=>({setQuery:t=>e(l.setQuery(t)),submit:()=>e(l.submit())}))(u.default);t.default=s},function(e,t,a){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=n(a(0));t.default=(e=>{return r.default.createElement("form",{className:"form-inline",onSubmit:t=>{t.preventDefault(),e.submit()}},r.default.createElement("input",{type:"text",name:"query",placeholder:"search term",onChange:t=>{e.setQuery(t.target.value)}}),r.default.createElement("button",{type:"submit",className:"btn"},"Search"))})},function(e,t,a){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=a(1),l=a(18),u=n(a(50)),s=r.connect(e=>({text:e.urls.text}),e=>({setText:t=>e(l.setText(t)),submit:()=>e(l.submit())}))(u.default);t.default=s},function(e,t,a){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=n(a(0));t.default=(e=>{return r.default.createElement("form",{onSubmit:t=>{t.preventDefault(),e.submit()}},r.default.createElement("label",{htmlFor:"urls"},"Add list of feed URLs (one per line)"),r.default.createElement("textarea",{id:"urls",onChange:t=>{e.setText(t.target.value)},rows:3,value:e.text}),r.default.createElement("br",null),r.default.createElement("button",{type:"submit",className:"btn"},"Add"))})},function(e,t,a){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=n(a(0));t.default=(e=>r.default.createElement("div",null,e.show&&r.default.createElement("div",{className:"spin"})))},function(e,t,a){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=n(a(0));t.default=(e=>{return r.default.createElement("ul",{className:"nav nav-pills"},r.default.createElement("li",null,r.default.createElement("a",{href:"#feeds"},"Feeds")),r.default.createElement("li",null,r.default.createElement("a",{href:"#unseen"},"Unseen")),r.default.createElement("li",null,r.default.createElement("a",{href:"#important"},"Important")),r.default.createElement("li",null,r.default.createElement("a",{href:"#search"},"Search")),r.default.createElement("li",null,r.default.createElement("a",{href:"#invalid"},"Invalid")),e.authenticated&&r.default.createElement("li",null,r.default.createElement("a",{href:"#",onClick:t=>{t.preventDefault(),e.logout()}},"Logout")))})},function(e,t,a){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=a(5),l=n(a(54)),u=n(a(55)),s=a(20),i=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||r.compose;t.default=r.createStore(u.default,i(r.applyMiddleware(l.default.withExtraArgument(s.api))))},,function(e,t,a){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=a(5),l=n(a(56)),u=n(a(57)),s=n(a(58)),i=n(a(59)),d=n(a(60)),c=n(a(61)),o=n(a(62)),f=n(a(63)),_=n(a(64));t.default=r.combineReducers({route:l.default,invalid:u.default,spinner:s.default,auth:i.default,login:d.default,feeds:c.default,articles:o.default,search:f.default,urls:_.default})},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=a(10),r={view:null,args:[]};t.default=((e=r,t)=>{switch(t.type){case n.ROUTE_VIEW:return Object.assign({},e,{view:t.view,args:t.args});default:return e}})},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=a(6),r={items:[],start:0};t.default=((e=r,t)=>{switch(t.type){case n.INVALID_FEED_RESOLVED:return Object.assign({},e,{items:e.items.filter(e=>e.uuid!==t.feedId)});case n.INVALID_LOADED:return Object.assign({},e,{items:e.items.concat(t.feeds),start:e.start+t.feeds.length});case n.INVALID_INITIAL:return r;default:return e}})},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=a(19),r={show:!1};t.default=((e=r,t)=>{switch(t.type){case n.SPINNER_SHOW:return Object.assign({},e,{show:!0});case n.SPINNER_HIDE:return Object.assign({},e,{show:!1});default:return e}})},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=a(4),r={authenticated:!1};t.default=((e=r,t)=>{switch(t.type){case n.AUTH_SUCCESSFUL:return Object.assign({},e,{authenticated:!0});case n.AUTH_LOGGED_OUT:return Object.assign({},e,{authenticated:!1});default:return e}})},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=a(16),r={user:"",pass:""};t.default=((e=r,t)=>{switch(t.type){case n.LOGIN_SET_USERNAME:return Object.assign({},e,{user:t.user});case n.LOGIN_SET_PASSWORD:return Object.assign({},e,{pass:t.pass});default:return e}})},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=a(8),r={items:[],start:0};t.default=((e=r,t)=>{switch(t.type){case n.FEEDS_FEED_DELETED:return Object.assign({},e,{items:e.items.filter(e=>e.uuid!==t.feedId)});case n.FEEDS_LOADED:return Object.assign({},e,{items:e.items.concat(t.feeds),start:e.start+t.feeds.length});case n.FEEDS_INITIAL:return r;default:return e}})},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=a(9),r={source:"unseen",items:[],rowid:9007199254740991},l=(e,t,a)=>{const n=e[t],r=e.slice(0);return r[t]=a(n),r},u=(e,t,a)=>{const n=e.items.findIndex(e=>e.uuid===t);return n>=0?Object.assign({},e,{items:l(e.items,n,a)}):e};t.default=((e=r,t)=>{switch(t.type){case n.ARTICLES_LOADED:const a=t.articles;let r=e.rowid;for(const e of a)e.article_rowid<r&&(r=e.article_rowid);return Object.assign({},e,{items:e.items.concat(t.articles),rowid:r});case n.ARTICLES_INITIAL:return{items:[],rowid:9007199254740991,source:t.source};case n.ARTICLES_TOGGLE_READ:return u(e,t.articleId,e=>Object.assign({},e,{is_read:1===e.is_read?0:1}));case n.ARTICLES_MARK_READ:return u(e,t.articleId,e=>Object.assign({},e,{is_read:1,is_seen:1}));case n.ARTICLES_MARK_SEEN:const l=e.items.findIndex(e=>e.uuid===t.articleId);if(l>=0){const t=e.items.slice(0,l+1).map(e=>Object.assign({},e,{is_seen:1}));return Object.assign({},e,{items:t.concat(e.items.slice(l+1))})}return e;case n.ARTICLES_TOGGLE_IMPORTANT:return u(e,t.articleId,e=>Object.assign({},e,{is_important:1===e.is_important?0:1}));default:return e}})},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=a(17),r={query:""};t.default=((e=r,t)=>{switch(t.type){case n.SEARCH_SET_QUERY:return Object.assign({},e,{query:t.query});default:return e}})},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=a(18),r={text:""};t.default=((e=r,t)=>{switch(t.type){case n.URLS_SET_TEXT:return Object.assign({},e,{text:t.text});default:return e}})},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=[];t.route=((e,t)=>{n.push({regexp:e,cb:t})}),t.go=((e,...t)=>{window.location.hash=`#${e}${t.length>0?"/"+t.join("/"):""}`}),t.refresh=(()=>{r()});const r=()=>{const e=window.location.hash.substring(1);for(const t of n){const a=e.match(t.regexp);if(a){t.cb.apply(null,a.slice(1,a.length));break}}};window.addEventListener("load",r,!1),window.addEventListener("hashchange",r,!1)},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=[];t.addHandler=(e=>{n.push(e)}),t.removeHandler=(e=>{const t=n.indexOf(e);t>=0&&n.splice(t,1)});let r=!1,l=0;document.addEventListener("scroll",()=>{const e=window.pageYOffset,t=document.body.scrollHeight,a=window.innerHeight,u=e>l;l=e,u&&e>t-a-100&&!r&&(r=!0,(()=>{for(const e of n)e()})(),setTimeout(()=>{r=!1},3e3))},!1)}]);